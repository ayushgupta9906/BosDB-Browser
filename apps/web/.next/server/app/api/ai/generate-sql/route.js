"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ai/generate-sql/route";
exports.ids = ["app/api/ai/generate-sql/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fgenerate-sql%2Froute&page=%2Fapi%2Fai%2Fgenerate-sql%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fgenerate-sql%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fgenerate-sql%2Froute&page=%2Fapi%2Fai%2Fgenerate-sql%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fgenerate-sql%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Arush_Gupta_Downloads_BosDB_Browser_apps_web_src_app_api_ai_generate_sql_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/ai/generate-sql/route.ts */ \"(rsc)/./src/app/api/ai/generate-sql/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ai/generate-sql/route\",\n        pathname: \"/api/ai/generate-sql\",\n        filename: \"route\",\n        bundlePath: \"app/api/ai/generate-sql/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Arush Gupta\\\\Downloads\\\\BosDB-Browser\\\\apps\\\\web\\\\src\\\\app\\\\api\\\\ai\\\\generate-sql\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Arush_Gupta_Downloads_BosDB_Browser_apps_web_src_app_api_ai_generate_sql_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/ai/generate-sql/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhaSUyRmdlbmVyYXRlLXNxbCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWklMkZnZW5lcmF0ZS1zcWwlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhaSUyRmdlbmVyYXRlLXNxbCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBcnVzaCUyMEd1cHRhJTVDRG93bmxvYWRzJTVDQm9zREItQnJvd3NlciU1Q2FwcHMlNUN3ZWIlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q0FydXNoJTIwR3VwdGElNUNEb3dubG9hZHMlNUNCb3NEQi1Ccm93c2VyJTVDYXBwcyU1Q3dlYiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD1zdGFuZGFsb25lJnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3NEO0FBQ25JO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJvc2RiL3dlYi8/ZmI2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxBcnVzaCBHdXB0YVxcXFxEb3dubG9hZHNcXFxcQm9zREItQnJvd3NlclxcXFxhcHBzXFxcXHdlYlxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhaVxcXFxnZW5lcmF0ZS1zcWxcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9haS9nZW5lcmF0ZS1zcWwvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9haS9nZW5lcmF0ZS1zcWxcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FpL2dlbmVyYXRlLXNxbC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXEFydXNoIEd1cHRhXFxcXERvd25sb2Fkc1xcXFxCb3NEQi1Ccm93c2VyXFxcXGFwcHNcXFxcd2ViXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGFpXFxcXGdlbmVyYXRlLXNxbFxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYWkvZ2VuZXJhdGUtc3FsL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fgenerate-sql%2Froute&page=%2Fapi%2Fai%2Fgenerate-sql%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fgenerate-sql%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/ai/generate-sql/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/ai/generate-sql/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n// Model mappings\nconst GEMINI_MODELS = {\n    \"gemini-1.5-flash\": \"gemini-2.0-flash-exp\",\n    \"gemini-1.5-pro\": \"gemini-pro\",\n    \"auto\": \"gemini-2.0-flash-exp\"\n};\nconst OPENAI_MODELS = {\n    \"gpt-4o-mini\": \"gpt-4o-mini\",\n    \"gpt-4o\": \"gpt-4o\",\n    \"gpt-4-turbo\": \"gpt-4-turbo\"\n};\nconst ANTHROPIC_MODELS = {\n    \"claude-3-haiku\": \"claude-3-haiku-20240307\",\n    \"claude-3-sonnet\": \"claude-3-sonnet-20240229\",\n    \"claude-3-opus\": \"claude-3-opus-20240229\"\n};\n// Hugging Face free models\nconst HUGGINGFACE_MODELS = {\n    \"mistral\": \"mistralai/Mistral-7B-Instruct-v0.3\",\n    \"codellama\": \"codellama/CodeLlama-34b-Instruct-hf\",\n    \"llama\": \"meta-llama/Llama-3.2-3B-Instruct\",\n    \"qwen\": \"Qwen/Qwen2.5-7B-Instruct\",\n    \"deepseek\": \"deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B\",\n    \"auto\": \"mistralai/Mistral-7B-Instruct-v0.3\"\n};\n// System prompt for SQL generation\nfunction buildSystemPrompt(dbType, database, tables) {\n    const tableList = tables.length > 0 ? `Available tables: ${tables.slice(0, 50).join(\", \")}${tables.length > 50 ? \"...\" : \"\"}` : \"No table information available\";\n    return `You are an expert database assistant with deep knowledge of ${dbType.toUpperCase()} and other databases.\r\nDatabase: ${database}\r\n${tableList}\r\n\r\nYou can help with:\r\n- Writing SQL/NoSQL queries\r\n- Explaining database concepts\r\n- Designing schemas and tables\r\n- Optimizing queries\r\n- Debugging database issues\r\n- Data modeling advice\r\n- Best practices and recommendations\r\n\r\nWhen the user asks for a query:\r\n1. Provide a brief explanation\r\n2. Then provide the query in a \\`\\`\\`sql code block\r\n3. Use proper ${dbType.toUpperCase()} syntax\r\n\r\nWhen the user asks general questions:\r\n- Answer helpfully and concisely\r\n- Provide examples when useful\r\n- Be friendly and professional\r\n\r\nAlways be helpful, even for non-SQL questions about databases.`;\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { prompt, dbType, database, tables, model, provider, temperature = 0.3 } = body;\n        if (!prompt) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Prompt is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Check for API keys in environment\n        const openaiKey = process.env.OPENAI_API_KEY;\n        const geminiKey = process.env.GEMINI_API_KEY;\n        const anthropicKey = process.env.ANTHROPIC_API_KEY;\n        const hfKey = process.env.HUGGINGFACE_API_KEY || process.env.HF_TOKEN;\n        // Debug: Log which keys are available (safely)\n        console.log(\"[AI API] Keys available:\", {\n            gemini: !!geminiKey,\n            openai: !!openaiKey,\n            anthropic: !!anthropicKey,\n            huggingface: !!hfKey\n        });\n        let sql = \"\";\n        let explanation = \"\";\n        let usedModel = \"\";\n        // Determine which provider to use\n        const useProvider = provider === \"auto\" || !provider ? determineProvider(geminiKey, openaiKey, anthropicKey) : provider;\n        // Get the actual model name\n        const actualModel = getActualModel(model || \"auto\", useProvider);\n        try {\n            switch(useProvider){\n                case \"gemini\":\n                    if (!geminiKey) throw new Error(\"Gemini API key not configured\");\n                    const geminiResult = await callGemini(geminiKey, prompt, dbType, database, tables, actualModel, temperature);\n                    sql = geminiResult.sql;\n                    explanation = geminiResult.explanation;\n                    usedModel = actualModel;\n                    break;\n                case \"openai\":\n                    if (!openaiKey) throw new Error(\"OpenAI API key not configured\");\n                    const openaiResult = await callOpenAI(openaiKey, prompt, dbType, database, tables, actualModel, temperature);\n                    sql = openaiResult.sql;\n                    explanation = openaiResult.explanation;\n                    usedModel = actualModel;\n                    break;\n                case \"anthropic\":\n                    if (!anthropicKey) throw new Error(\"Anthropic API key not configured\");\n                    const anthropicResult = await callAnthropic(anthropicKey, prompt, dbType, database, tables, actualModel, temperature);\n                    sql = anthropicResult.sql;\n                    explanation = anthropicResult.explanation;\n                    usedModel = actualModel;\n                    break;\n                case \"huggingface\":\n                    const hfKey = process.env.HUGGINGFACE_API_KEY || process.env.HF_TOKEN;\n                    if (!hfKey) throw new Error(\"Hugging Face API key not configured\");\n                    const hfResult = await callHuggingFace(hfKey, prompt, dbType, database, tables, actualModel, temperature);\n                    sql = hfResult.sql;\n                    explanation = hfResult.explanation;\n                    usedModel = actualModel;\n                    break;\n                default:\n                    const fallbackResult = generateFallbackSQL(prompt, dbType, tables);\n                    sql = fallbackResult.sql;\n                    explanation = fallbackResult.explanation;\n                    usedModel = \"fallback\";\n            }\n        } catch (providerError) {\n            console.error(`[AI Assistant] Provider ${useProvider} failed:`, providerError.message);\n            // If primary failed and it wasn't already Gemini, try Gemini as fallback\n            if (useProvider !== \"gemini\" && geminiKey) {\n                console.log(\"[AI Assistant] Attempting fallback to Gemini...\");\n                try {\n                    const fallbackModel = \"gemini-2.0-flash-exp\";\n                    const geminiResult = await callGemini(geminiKey, prompt, dbType, database, tables, fallbackModel, temperature);\n                    sql = geminiResult.sql;\n                    explanation = `(Fallback Mode: Primary provider failed) ${geminiResult.explanation}`;\n                    usedModel = `${fallbackModel} (fallback)`;\n                } catch (geminiError) {\n                    console.error(\"[AI Assistant] Gemini fallback also failed:\", geminiError.message);\n                    throw providerError; // Original error\n                }\n            } else {\n                throw providerError;\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            sql,\n            explanation,\n            model: usedModel\n        });\n    } catch (error) {\n        console.error(\"AI SQL generation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Failed to generate SQL\"\n        }, {\n            status: 500\n        });\n    }\n}\nfunction determineProvider(geminiKey, openaiKey, anthropicKey) {\n    const hfKey = process.env.HUGGINGFACE_API_KEY || process.env.HF_TOKEN;\n    if (hfKey) return \"huggingface\"; // Prioritize free Hugging Face\n    if (geminiKey) return \"gemini\";\n    if (openaiKey) return \"openai\";\n    if (anthropicKey) return \"anthropic\";\n    return \"fallback\";\n}\nfunction getActualModel(model, provider) {\n    if (model === \"auto\") {\n        switch(provider){\n            case \"huggingface\":\n                return HUGGINGFACE_MODELS[\"auto\"];\n            case \"gemini\":\n                return \"gemini-2.0-flash-exp\";\n            case \"openai\":\n                return \"gpt-4o-mini\";\n            case \"anthropic\":\n                return \"claude-3-haiku-20240307\";\n            default:\n                return \"auto\";\n        }\n    }\n    // Check if model belongs to the provider\n    if (provider === \"gemini\" && GEMINI_MODELS[model]) {\n        return GEMINI_MODELS[model];\n    }\n    if (provider === \"openai\" && OPENAI_MODELS[model]) {\n        return OPENAI_MODELS[model];\n    }\n    if (provider === \"anthropic\" && ANTHROPIC_MODELS[model]) {\n        return ANTHROPIC_MODELS[model];\n    }\n    if (provider === \"huggingface\" && HUGGINGFACE_MODELS[model]) {\n        return HUGGINGFACE_MODELS[model];\n    }\n    // Return default for provider\n    switch(provider){\n        case \"gemini\":\n            return \"gemini-2.0-flash-exp\";\n        case \"openai\":\n            return \"gpt-4o-mini\";\n        case \"anthropic\":\n            return \"claude-3-haiku-20240307\";\n        case \"huggingface\":\n            return HUGGINGFACE_MODELS[\"auto\"];\n        default:\n            return model;\n    }\n}\nasync function callGemini(apiKey, prompt, dbType, database, tables, model, temperature) {\n    const systemPrompt = buildSystemPrompt(dbType, database, tables);\n    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${apiKey}`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            contents: [\n                {\n                    role: \"user\",\n                    parts: [\n                        {\n                            text: `${systemPrompt}\\n\\nUser request: ${prompt}`\n                        }\n                    ]\n                }\n            ],\n            generationConfig: {\n                temperature,\n                maxOutputTokens: 2048\n            }\n        })\n    });\n    // Check if response is OK\n    if (!response.ok) {\n        const text = await response.text();\n        if (text.includes(\"<!DOCTYPE\") || text.includes(\"<html\")) {\n            throw new Error(`Gemini API error (${response.status}): Check your API key is valid and has Generative Language API enabled`);\n        }\n        throw new Error(`Gemini API error (${response.status}): ${text.slice(0, 200)}`);\n    }\n    const text = await response.text();\n    // Check if response is HTML (error page)\n    if (text.startsWith(\"<!DOCTYPE\") || text.startsWith(\"<html\")) {\n        throw new Error(\"Gemini API returned an error page. Please check your API key.\");\n    }\n    let data;\n    try {\n        data = JSON.parse(text);\n    } catch  {\n        throw new Error(`Invalid response from Gemini: ${text.slice(0, 100)}`);\n    }\n    if (data.error) {\n        throw new Error(data.error.message || \"Gemini API error\");\n    }\n    const content = data.candidates?.[0]?.content?.parts?.[0]?.text || \"\";\n    if (!content) {\n        throw new Error(\"Gemini returned empty response. The query may have been blocked.\");\n    }\n    console.log(\"[AI API] Gemini raw response:\", content.slice(0, 500));\n    const parsed = parseAIResponse(content);\n    console.log(\"[AI API] Parsed result:\", {\n        sql: parsed.sql.slice(0, 100),\n        explanation: parsed.explanation.slice(0, 100)\n    });\n    return parsed;\n}\nasync function callOpenAI(apiKey, prompt, dbType, database, tables, model, temperature) {\n    const systemPrompt = buildSystemPrompt(dbType, database, tables);\n    const response = await fetch(\"https://api.openai.com/v1/chat/completions\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${apiKey}`\n        },\n        body: JSON.stringify({\n            model,\n            messages: [\n                {\n                    role: \"system\",\n                    content: systemPrompt\n                },\n                {\n                    role: \"user\",\n                    content: prompt\n                }\n            ],\n            temperature,\n            max_tokens: 2048\n        })\n    });\n    const data = await response.json();\n    if (data.error) {\n        throw new Error(data.error.message);\n    }\n    const content = data.choices?.[0]?.message?.content || \"\";\n    return parseAIResponse(content);\n}\nasync function callAnthropic(apiKey, prompt, dbType, database, tables, model, temperature) {\n    const systemPrompt = buildSystemPrompt(dbType, database, tables);\n    const response = await fetch(\"https://api.anthropic.com/v1/messages\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-api-key\": apiKey,\n            \"anthropic-version\": \"2023-06-01\"\n        },\n        body: JSON.stringify({\n            model,\n            system: systemPrompt,\n            messages: [\n                {\n                    role: \"user\",\n                    content: prompt\n                }\n            ],\n            max_tokens: 2048,\n            temperature\n        })\n    });\n    const data = await response.json();\n    if (data.error) {\n        throw new Error(data.error.message);\n    }\n    const content = data.content?.[0]?.text || \"\";\n    return parseAIResponse(content);\n}\nasync function callHuggingFace(apiKey, prompt, dbType, database, tables, model, temperature) {\n    const systemPrompt = buildSystemPrompt(dbType, database, tables);\n    // Hugging Face Inference API - Using newer router endpoint\n    // Some models (especially on HF) are picky about the 'system' role.\n    // We'll prepare a fallback prompt just in case.\n    const messages = [\n        {\n            role: \"system\",\n            content: systemPrompt\n        },\n        {\n            role: \"user\",\n            content: prompt\n        }\n    ];\n    const response = await fetch(`https://router.huggingface.co/v1/chat/completions`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${apiKey}`\n        },\n        body: JSON.stringify({\n            model: model,\n            messages: messages,\n            temperature,\n            max_tokens: 1024\n        })\n    });\n    if (!response.ok) {\n        const errorText = await response.text();\n        console.error(\"[AI API] Hugging Face Error:\", errorText);\n        // If 400, it might be the system role. Let's try one fallback if it's a 400\n        if (response.status === 400 && !prompt.includes(\"Fallback Attempt\")) {\n            console.log(\"[AI API] HF 400 Error. Trying fallback without system role...\");\n            return callHuggingFace(apiKey, `[System Instruction: ${systemPrompt}]\\n\\nUser Question: ${prompt} (Fallback Attempt)`, dbType, database, tables, model, temperature);\n        }\n        throw new Error(`Hugging Face API error (${response.status}): ${errorText.slice(0, 500)}`);\n    }\n    const data = await response.json();\n    console.log(\"[AI API] Hugging Face raw data:\", JSON.stringify(data).slice(0, 1000));\n    // Handle OpenAI-compatible response format from Hugging Face\n    let content = \"\";\n    if (data.choices && data.choices[0] && data.choices[0].message) {\n        content = data.choices[0].message.content || \"\";\n    }\n    if (!content) {\n        // Fallback for traditional HF format: [{generated_text: \"...\"}]\n        if (Array.isArray(data) && data[0] && data[0].generated_text) {\n            content = data[0].generated_text;\n        } else if (data.generated_text) {\n            content = data.generated_text;\n        } else if (data.text) {\n            content = data.text;\n        }\n    }\n    if (!content) {\n        console.error(\"[AI API] HF Empty Content. Full Data:\", JSON.stringify(data));\n        throw new Error(`Hugging Face returned empty response. Response structure: ${Object.keys(data).join(\", \")}`);\n    }\n    if (!content) {\n        throw new Error(\"Hugging Face returned empty response\");\n    }\n    console.log(\"[AI API] Hugging Face raw response:\", content.slice(0, 500));\n    return parseAIResponse(content);\n}\nfunction parseAIResponse(content) {\n    // Try to extract SQL from code blocks if present\n    const sqlMatch = content.match(/```sql\\n?([\\s\\S]*?)```/i) || content.match(/```\\n?([\\s\\S]*?)```/);\n    if (sqlMatch) {\n        const sql = sqlMatch[1].trim();\n        const explanation = content.split(\"```\")[0].trim() || \"Generated query:\";\n        return {\n            sql,\n            explanation\n        };\n    }\n    // No code block - return the full response as explanation\n    // and try to extract any SQL-like content\n    const lines = content.split(\"\\n\");\n    const sqlKeywords = [\n        \"SELECT\",\n        \"INSERT\",\n        \"UPDATE\",\n        \"DELETE\",\n        \"CREATE\",\n        \"ALTER\",\n        \"DROP\",\n        \"WITH\",\n        \"EXPLAIN\",\n        \"SHOW\",\n        \"DESCRIBE\"\n    ];\n    const sqlLines = [];\n    const explanationLines = [];\n    let foundSQL = false;\n    for (const line of lines){\n        const trimmed = line.trim().toUpperCase();\n        if (!foundSQL && sqlKeywords.some((kw)=>trimmed.startsWith(kw))) {\n            foundSQL = true;\n        }\n        if (foundSQL) {\n            sqlLines.push(line);\n        } else {\n            explanationLines.push(line);\n        }\n    }\n    const sql = sqlLines.join(\"\\n\").trim();\n    const explanation = explanationLines.join(\"\\n\").trim() || content;\n    // If no SQL found, return full content as explanation\n    if (!sql) {\n        return {\n            sql: \"\",\n            explanation: content\n        };\n    }\n    return {\n        sql,\n        explanation\n    };\n}\nfunction generateFallbackSQL(prompt, dbType, tables) {\n    const lowerPrompt = prompt.toLowerCase();\n    // Simple pattern matching for common requests\n    if (lowerPrompt.includes(\"show\") && lowerPrompt.includes(\"table\")) {\n        if (dbType === \"postgresql\") {\n            return {\n                sql: `SELECT table_schema, table_name, table_type\r\nFROM information_schema.tables\r\nWHERE table_schema NOT IN ('pg_catalog', 'information_schema')\r\nORDER BY table_schema, table_name;`,\n                explanation: \"Lists all tables in your database.\"\n            };\n        } else {\n            return {\n                sql: `SHOW TABLES;`,\n                explanation: \"Lists all tables in your database.\"\n            };\n        }\n    }\n    if ((lowerPrompt.includes(\"count\") || lowerPrompt.includes(\"row\")) && lowerPrompt.includes(\"each\")) {\n        if (dbType === \"postgresql\") {\n            return {\n                sql: `SELECT schemaname, relname as table_name, n_live_tup as row_count\r\nFROM pg_stat_user_tables\r\nORDER BY n_live_tup DESC;`,\n                explanation: \"Shows row counts for each table in your database.\"\n            };\n        }\n    }\n    if (lowerPrompt.includes(\"schema\") || lowerPrompt.includes(\"describe\")) {\n        if (tables.length > 0) {\n            const table = tables[0];\n            if (dbType === \"postgresql\") {\n                return {\n                    sql: `SELECT column_name, data_type, is_nullable, column_default\r\nFROM information_schema.columns\r\nWHERE table_name = '${table.split(\".\").pop()}'\r\nORDER BY ordinal_position;`,\n                    explanation: `Shows the schema for table ${table}.`\n                };\n            } else {\n                return {\n                    sql: `DESCRIBE ${table};`,\n                    explanation: `Shows the schema for table ${table}.`\n                };\n            }\n        }\n    }\n    if (lowerPrompt.includes(\"count\") && tables.length > 0) {\n        const table = tables[0];\n        return {\n            sql: `SELECT COUNT(*) as total FROM ${table};`,\n            explanation: `Counts all rows in ${table}.`\n        };\n    }\n    if (lowerPrompt.includes(\"sample\") || lowerPrompt.includes(\"data\")) {\n        if (tables.length > 0) {\n            const table = tables[0];\n            return {\n                sql: `SELECT * FROM ${table} LIMIT 10;`,\n                explanation: `Shows sample data from ${table}.`\n            };\n        }\n    }\n    if (lowerPrompt.includes(\"select\") || lowerPrompt.includes(\"show\") || lowerPrompt.includes(\"get\")) {\n        if (tables.length > 0) {\n            const table = tables[0];\n            return {\n                sql: `SELECT * FROM ${table} LIMIT 100;`,\n                explanation: `Retrieves first 100 rows from ${table}.`\n            };\n        }\n    }\n    if (lowerPrompt.includes(\"create\") && lowerPrompt.includes(\"table\")) {\n        const tableName = lowerPrompt.match(/table\\s+(\\w+)/)?.[1] || \"new_table\";\n        if (dbType === \"postgresql\") {\n            return {\n                sql: `CREATE TABLE ${tableName} (\r\n    id SERIAL PRIMARY KEY,\r\n    name VARCHAR(255) NOT NULL,\r\n    email VARCHAR(255) UNIQUE,\r\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\r\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n);`,\n                explanation: `Creates a new table called ${tableName} with common fields.`\n            };\n        } else {\n            return {\n                sql: `CREATE TABLE ${tableName} (\r\n    id INT AUTO_INCREMENT PRIMARY KEY,\r\n    name VARCHAR(255) NOT NULL,\r\n    email VARCHAR(255) UNIQUE,\r\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\r\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\r\n);`,\n                explanation: `Creates a new table called ${tableName} with common fields.`\n            };\n        }\n    }\n    // Default fallback\n    return {\n        sql: `-- Could not generate SQL for: \"${prompt}\"\r\n-- Please configure an AI API key for better results.\r\n-- Add one of these to your .env.local file:\r\n--   GEMINI_API_KEY=your_key (free at aistudio.google.com)\r\n--   OPENAI_API_KEY=your_key\r\n--   ANTHROPIC_API_KEY=your_key\r\n\r\nSELECT 'Configure AI API key for advanced queries' as message;`,\n        explanation: \"\\uD83D\\uDCA1 For complex queries, please configure an AI API key. Gemini API is free to start!\"\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9haS9nZW5lcmF0ZS1zcWwvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0Q7QUFvQnhELGlCQUFpQjtBQUNqQixNQUFNQyxnQkFBd0M7SUFDMUMsb0JBQW9CO0lBQ3BCLGtCQUFrQjtJQUNsQixRQUFRO0FBQ1o7QUFFQSxNQUFNQyxnQkFBd0M7SUFDMUMsZUFBZTtJQUNmLFVBQVU7SUFDVixlQUFlO0FBQ25CO0FBRUEsTUFBTUMsbUJBQTJDO0lBQzdDLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsaUJBQWlCO0FBQ3JCO0FBRUEsMkJBQTJCO0FBQzNCLE1BQU1DLHFCQUE2QztJQUMvQyxXQUFXO0lBQ1gsYUFBYTtJQUNiLFNBQVM7SUFDVCxRQUFRO0lBQ1IsWUFBWTtJQUNaLFFBQVE7QUFDWjtBQUVBLG1DQUFtQztBQUNuQyxTQUFTQyxrQkFBa0JDLE1BQWMsRUFBRUMsUUFBZ0IsRUFBRUMsTUFBZ0I7SUFDekUsTUFBTUMsWUFBWUQsT0FBT0UsTUFBTSxHQUFHLElBQzVCLENBQUMsa0JBQWtCLEVBQUVGLE9BQU9HLEtBQUssQ0FBQyxHQUFHLElBQUlDLElBQUksQ0FBQyxNQUFNLEVBQUVKLE9BQU9FLE1BQU0sR0FBRyxLQUFLLFFBQVEsR0FBRyxDQUFDLEdBQ3ZGO0lBRU4sT0FBTyxDQUFDLDREQUE0RCxFQUFFSixPQUFPTyxXQUFXLEdBQUc7VUFDckYsRUFBRU4sU0FBUztBQUNyQixFQUFFRSxVQUFVOzs7Ozs7Ozs7Ozs7OztjQWNFLEVBQUVILE9BQU9PLFdBQVcsR0FBRzs7Ozs7Ozs4REFPeUIsQ0FBQztBQUMvRDtBQUVPLGVBQWVDLEtBQUtDLE9BQW9CO0lBQzNDLElBQUk7UUFDQSxNQUFNQyxPQUEyQixNQUFNRCxRQUFRRSxJQUFJO1FBQ25ELE1BQU0sRUFBRUMsTUFBTSxFQUFFWixNQUFNLEVBQUVDLFFBQVEsRUFBRUMsTUFBTSxFQUFFVyxLQUFLLEVBQUVDLFFBQVEsRUFBRUMsY0FBYyxHQUFHLEVBQUUsR0FB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QUFDLGdDQUFnQyxFQUFFdkIsT0FBTzs7Ozs7Ozs4REFPTyxDQUFDO1FBQ3ZEd0IsYUFBYTtJQUNqQjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJvc2RiL3dlYi8uL3NyYy9hcHAvYXBpL2FpL2dlbmVyYXRlLXNxbC9yb3V0ZS50cz9hMWY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcblxyXG4vKipcclxuICogQUkgU1FMIEdlbmVyYXRvciBBUElcclxuICogQ29udmVydHMgbmF0dXJhbCBsYW5ndWFnZSB0byBTUUwgcXVlcmllcyB1c2luZyBBSVxyXG4gKiBTdXBwb3J0cyBtdWx0aXBsZSBBSSBwcm92aWRlcnMgd2l0aCBtb2RlbCBzZWxlY3Rpb25cclxuICovXHJcblxyXG5pbnRlcmZhY2UgR2VuZXJhdGVTUUxSZXF1ZXN0IHtcclxuICAgIHByb21wdDogc3RyaW5nO1xyXG4gICAgY29ubmVjdGlvbklkOiBzdHJpbmc7XHJcbiAgICBkYlR5cGU6IHN0cmluZztcclxuICAgIGRhdGFiYXNlOiBzdHJpbmc7XHJcbiAgICBzY2hlbWFzOiBzdHJpbmdbXTtcclxuICAgIHRhYmxlczogc3RyaW5nW107XHJcbiAgICBtb2RlbD86IHN0cmluZztcclxuICAgIHByb3ZpZGVyPzogJ2F1dG8nIHwgJ2dlbWluaScgfCAnb3BlbmFpJyB8ICdhbnRocm9waWMnO1xyXG4gICAgdGVtcGVyYXR1cmU/OiBudW1iZXI7XHJcbn1cclxuXHJcbi8vIE1vZGVsIG1hcHBpbmdzXHJcbmNvbnN0IEdFTUlOSV9NT0RFTFM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAnZ2VtaW5pLTEuNS1mbGFzaCc6ICdnZW1pbmktMi4wLWZsYXNoLWV4cCcsXHJcbiAgICAnZ2VtaW5pLTEuNS1wcm8nOiAnZ2VtaW5pLXBybycsXHJcbiAgICAnYXV0byc6ICdnZW1pbmktMi4wLWZsYXNoLWV4cCcsXHJcbn07XHJcblxyXG5jb25zdCBPUEVOQUlfTU9ERUxTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgJ2dwdC00by1taW5pJzogJ2dwdC00by1taW5pJyxcclxuICAgICdncHQtNG8nOiAnZ3B0LTRvJyxcclxuICAgICdncHQtNC10dXJibyc6ICdncHQtNC10dXJibycsXHJcbn07XHJcblxyXG5jb25zdCBBTlRIUk9QSUNfTU9ERUxTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgJ2NsYXVkZS0zLWhhaWt1JzogJ2NsYXVkZS0zLWhhaWt1LTIwMjQwMzA3JyxcclxuICAgICdjbGF1ZGUtMy1zb25uZXQnOiAnY2xhdWRlLTMtc29ubmV0LTIwMjQwMjI5JyxcclxuICAgICdjbGF1ZGUtMy1vcHVzJzogJ2NsYXVkZS0zLW9wdXMtMjAyNDAyMjknLFxyXG59O1xyXG5cclxuLy8gSHVnZ2luZyBGYWNlIGZyZWUgbW9kZWxzXHJcbmNvbnN0IEhVR0dJTkdGQUNFX01PREVMUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAgICdtaXN0cmFsJzogJ21pc3RyYWxhaS9NaXN0cmFsLTdCLUluc3RydWN0LXYwLjMnLFxyXG4gICAgJ2NvZGVsbGFtYSc6ICdjb2RlbGxhbWEvQ29kZUxsYW1hLTM0Yi1JbnN0cnVjdC1oZicsXHJcbiAgICAnbGxhbWEnOiAnbWV0YS1sbGFtYS9MbGFtYS0zLjItM0ItSW5zdHJ1Y3QnLCAvLyBVc2luZyAzQiBmb3IgYmV0dGVyIGF2YWlsYWJpbGl0eVxyXG4gICAgJ3F3ZW4nOiAnUXdlbi9Rd2VuMi41LTdCLUluc3RydWN0JywgICAgICAgICAgIC8vIFVzaW5nIDdCIGluc3RlYWQgb2YgNzJCIGZvciBmcmVlIHRpZXJcclxuICAgICdkZWVwc2Vlayc6ICdkZWVwc2Vlay1haS9EZWVwU2Vlay1SMS1EaXN0aWxsLVF3ZW4tMS41QicsIC8vIDEuNUIgaXMgdmVyeSBsaWtlbHkgb24gZnJlZSB0aWVyXHJcbiAgICAnYXV0byc6ICdtaXN0cmFsYWkvTWlzdHJhbC03Qi1JbnN0cnVjdC12MC4zJyxcclxufTtcclxuXHJcbi8vIFN5c3RlbSBwcm9tcHQgZm9yIFNRTCBnZW5lcmF0aW9uXHJcbmZ1bmN0aW9uIGJ1aWxkU3lzdGVtUHJvbXB0KGRiVHlwZTogc3RyaW5nLCBkYXRhYmFzZTogc3RyaW5nLCB0YWJsZXM6IHN0cmluZ1tdKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHRhYmxlTGlzdCA9IHRhYmxlcy5sZW5ndGggPiAwXHJcbiAgICAgICAgPyBgQXZhaWxhYmxlIHRhYmxlczogJHt0YWJsZXMuc2xpY2UoMCwgNTApLmpvaW4oJywgJyl9JHt0YWJsZXMubGVuZ3RoID4gNTAgPyAnLi4uJyA6ICcnfWBcclxuICAgICAgICA6ICdObyB0YWJsZSBpbmZvcm1hdGlvbiBhdmFpbGFibGUnO1xyXG5cclxuICAgIHJldHVybiBgWW91IGFyZSBhbiBleHBlcnQgZGF0YWJhc2UgYXNzaXN0YW50IHdpdGggZGVlcCBrbm93bGVkZ2Ugb2YgJHtkYlR5cGUudG9VcHBlckNhc2UoKX0gYW5kIG90aGVyIGRhdGFiYXNlcy5cclxuRGF0YWJhc2U6ICR7ZGF0YWJhc2V9XHJcbiR7dGFibGVMaXN0fVxyXG5cclxuWW91IGNhbiBoZWxwIHdpdGg6XHJcbi0gV3JpdGluZyBTUUwvTm9TUUwgcXVlcmllc1xyXG4tIEV4cGxhaW5pbmcgZGF0YWJhc2UgY29uY2VwdHNcclxuLSBEZXNpZ25pbmcgc2NoZW1hcyBhbmQgdGFibGVzXHJcbi0gT3B0aW1pemluZyBxdWVyaWVzXHJcbi0gRGVidWdnaW5nIGRhdGFiYXNlIGlzc3Vlc1xyXG4tIERhdGEgbW9kZWxpbmcgYWR2aWNlXHJcbi0gQmVzdCBwcmFjdGljZXMgYW5kIHJlY29tbWVuZGF0aW9uc1xyXG5cclxuV2hlbiB0aGUgdXNlciBhc2tzIGZvciBhIHF1ZXJ5OlxyXG4xLiBQcm92aWRlIGEgYnJpZWYgZXhwbGFuYXRpb25cclxuMi4gVGhlbiBwcm92aWRlIHRoZSBxdWVyeSBpbiBhIFxcYFxcYFxcYHNxbCBjb2RlIGJsb2NrXHJcbjMuIFVzZSBwcm9wZXIgJHtkYlR5cGUudG9VcHBlckNhc2UoKX0gc3ludGF4XHJcblxyXG5XaGVuIHRoZSB1c2VyIGFza3MgZ2VuZXJhbCBxdWVzdGlvbnM6XHJcbi0gQW5zd2VyIGhlbHBmdWxseSBhbmQgY29uY2lzZWx5XHJcbi0gUHJvdmlkZSBleGFtcGxlcyB3aGVuIHVzZWZ1bFxyXG4tIEJlIGZyaWVuZGx5IGFuZCBwcm9mZXNzaW9uYWxcclxuXHJcbkFsd2F5cyBiZSBoZWxwZnVsLCBldmVuIGZvciBub24tU1FMIHF1ZXN0aW9ucyBhYm91dCBkYXRhYmFzZXMuYDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYm9keTogR2VuZXJhdGVTUUxSZXF1ZXN0ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICAgICAgY29uc3QgeyBwcm9tcHQsIGRiVHlwZSwgZGF0YWJhc2UsIHRhYmxlcywgbW9kZWwsIHByb3ZpZGVyLCB0ZW1wZXJhdHVyZSA9IDAuMyB9ID0gYm9keTtcclxuXHJcbiAgICAgICAgaWYgKCFwcm9tcHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdQcm9tcHQgaXMgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgQVBJIGtleXMgaW4gZW52aXJvbm1lbnRcclxuICAgICAgICBjb25zdCBvcGVuYWlLZXkgPSBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWTtcclxuICAgICAgICBjb25zdCBnZW1pbmlLZXkgPSBwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWTtcclxuICAgICAgICBjb25zdCBhbnRocm9waWNLZXkgPSBwcm9jZXNzLmVudi5BTlRIUk9QSUNfQVBJX0tFWTtcclxuICAgICAgICBjb25zdCBoZktleSA9IHByb2Nlc3MuZW52LkhVR0dJTkdGQUNFX0FQSV9LRVkgfHwgcHJvY2Vzcy5lbnYuSEZfVE9LRU47XHJcblxyXG4gICAgICAgIC8vIERlYnVnOiBMb2cgd2hpY2gga2V5cyBhcmUgYXZhaWxhYmxlIChzYWZlbHkpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tBSSBBUEldIEtleXMgYXZhaWxhYmxlOicsIHtcclxuICAgICAgICAgICAgZ2VtaW5pOiAhIWdlbWluaUtleSxcclxuICAgICAgICAgICAgb3BlbmFpOiAhIW9wZW5haUtleSxcclxuICAgICAgICAgICAgYW50aHJvcGljOiAhIWFudGhyb3BpY0tleSxcclxuICAgICAgICAgICAgaHVnZ2luZ2ZhY2U6ICEhaGZLZXlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IHNxbCA9ICcnO1xyXG4gICAgICAgIGxldCBleHBsYW5hdGlvbiA9ICcnO1xyXG4gICAgICAgIGxldCB1c2VkTW9kZWwgPSAnJztcclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHByb3ZpZGVyIHRvIHVzZVxyXG4gICAgICAgIGNvbnN0IHVzZVByb3ZpZGVyID0gcHJvdmlkZXIgPT09ICdhdXRvJyB8fCAhcHJvdmlkZXJcclxuICAgICAgICAgICAgPyBkZXRlcm1pbmVQcm92aWRlcihnZW1pbmlLZXksIG9wZW5haUtleSwgYW50aHJvcGljS2V5KVxyXG4gICAgICAgICAgICA6IHByb3ZpZGVyO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGFjdHVhbCBtb2RlbCBuYW1lXHJcbiAgICAgICAgY29uc3QgYWN0dWFsTW9kZWwgPSBnZXRBY3R1YWxNb2RlbChtb2RlbCB8fCAnYXV0bycsIHVzZVByb3ZpZGVyKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc3dpdGNoICh1c2VQcm92aWRlcikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ2VtaW5pJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWdlbWluaUtleSkgdGhyb3cgbmV3IEVycm9yKCdHZW1pbmkgQVBJIGtleSBub3QgY29uZmlndXJlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbWluaVJlc3VsdCA9IGF3YWl0IGNhbGxHZW1pbmkoZ2VtaW5pS2V5LCBwcm9tcHQsIGRiVHlwZSwgZGF0YWJhc2UsIHRhYmxlcywgYWN0dWFsTW9kZWwsIHRlbXBlcmF0dXJlKTtcclxuICAgICAgICAgICAgICAgICAgICBzcWwgPSBnZW1pbmlSZXN1bHQuc3FsO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uID0gZ2VtaW5pUmVzdWx0LmV4cGxhbmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZWRNb2RlbCA9IGFjdHVhbE1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ29wZW5haSc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcGVuYWlLZXkpIHRocm93IG5ldyBFcnJvcignT3BlbkFJIEFQSSBrZXkgbm90IGNvbmZpZ3VyZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcGVuYWlSZXN1bHQgPSBhd2FpdCBjYWxsT3BlbkFJKG9wZW5haUtleSwgcHJvbXB0LCBkYlR5cGUsIGRhdGFiYXNlLCB0YWJsZXMsIGFjdHVhbE1vZGVsLCB0ZW1wZXJhdHVyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3FsID0gb3BlbmFpUmVzdWx0LnNxbDtcclxuICAgICAgICAgICAgICAgICAgICBleHBsYW5hdGlvbiA9IG9wZW5haVJlc3VsdC5leHBsYW5hdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB1c2VkTW9kZWwgPSBhY3R1YWxNb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdhbnRocm9waWMnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYW50aHJvcGljS2V5KSB0aHJvdyBuZXcgRXJyb3IoJ0FudGhyb3BpYyBBUEkga2V5IG5vdCBjb25maWd1cmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW50aHJvcGljUmVzdWx0ID0gYXdhaXQgY2FsbEFudGhyb3BpYyhhbnRocm9waWNLZXksIHByb21wdCwgZGJUeXBlLCBkYXRhYmFzZSwgdGFibGVzLCBhY3R1YWxNb2RlbCwgdGVtcGVyYXR1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNxbCA9IGFudGhyb3BpY1Jlc3VsdC5zcWw7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwbGFuYXRpb24gPSBhbnRocm9waWNSZXN1bHQuZXhwbGFuYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlZE1vZGVsID0gYWN0dWFsTW9kZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnaHVnZ2luZ2ZhY2UnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhmS2V5ID0gcHJvY2Vzcy5lbnYuSFVHR0lOR0ZBQ0VfQVBJX0tFWSB8fCBwcm9jZXNzLmVudi5IRl9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhmS2V5KSB0aHJvdyBuZXcgRXJyb3IoJ0h1Z2dpbmcgRmFjZSBBUEkga2V5IG5vdCBjb25maWd1cmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGZSZXN1bHQgPSBhd2FpdCBjYWxsSHVnZ2luZ0ZhY2UoaGZLZXksIHByb21wdCwgZGJUeXBlLCBkYXRhYmFzZSwgdGFibGVzLCBhY3R1YWxNb2RlbCwgdGVtcGVyYXR1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNxbCA9IGhmUmVzdWx0LnNxbDtcclxuICAgICAgICAgICAgICAgICAgICBleHBsYW5hdGlvbiA9IGhmUmVzdWx0LmV4cGxhbmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZWRNb2RlbCA9IGFjdHVhbE1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tSZXN1bHQgPSBnZW5lcmF0ZUZhbGxiYWNrU1FMKHByb21wdCwgZGJUeXBlLCB0YWJsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNxbCA9IGZhbGxiYWNrUmVzdWx0LnNxbDtcclxuICAgICAgICAgICAgICAgICAgICBleHBsYW5hdGlvbiA9IGZhbGxiYWNrUmVzdWx0LmV4cGxhbmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZWRNb2RlbCA9ICdmYWxsYmFjayc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChwcm92aWRlckVycm9yOiBhbnkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW0FJIEFzc2lzdGFudF0gUHJvdmlkZXIgJHt1c2VQcm92aWRlcn0gZmFpbGVkOmAsIHByb3ZpZGVyRXJyb3IubWVzc2FnZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBwcmltYXJ5IGZhaWxlZCBhbmQgaXQgd2Fzbid0IGFscmVhZHkgR2VtaW5pLCB0cnkgR2VtaW5pIGFzIGZhbGxiYWNrXHJcbiAgICAgICAgICAgIGlmICh1c2VQcm92aWRlciAhPT0gJ2dlbWluaScgJiYgZ2VtaW5pS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0FJIEFzc2lzdGFudF0gQXR0ZW1wdGluZyBmYWxsYmFjayB0byBHZW1pbmkuLi4nKTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tNb2RlbCA9ICdnZW1pbmktMi4wLWZsYXNoLWV4cCc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VtaW5pUmVzdWx0ID0gYXdhaXQgY2FsbEdlbWluaShnZW1pbmlLZXksIHByb21wdCwgZGJUeXBlLCBkYXRhYmFzZSwgdGFibGVzLCBmYWxsYmFja01vZGVsLCB0ZW1wZXJhdHVyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3FsID0gZ2VtaW5pUmVzdWx0LnNxbDtcclxuICAgICAgICAgICAgICAgICAgICBleHBsYW5hdGlvbiA9IGAoRmFsbGJhY2sgTW9kZTogUHJpbWFyeSBwcm92aWRlciBmYWlsZWQpICR7Z2VtaW5pUmVzdWx0LmV4cGxhbmF0aW9ufWA7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlZE1vZGVsID0gYCR7ZmFsbGJhY2tNb2RlbH0gKGZhbGxiYWNrKWA7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChnZW1pbmlFcnJvcjogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0FJIEFzc2lzdGFudF0gR2VtaW5pIGZhbGxiYWNrIGFsc28gZmFpbGVkOicsIGdlbWluaUVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHByb3ZpZGVyRXJyb3I7IC8vIE9yaWdpbmFsIGVycm9yXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBwcm92aWRlckVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzcWwsIGV4cGxhbmF0aW9uLCBtb2RlbDogdXNlZE1vZGVsIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FJIFNRTCBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBnZW5lcmF0ZSBTUUwnIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRldGVybWluZVByb3ZpZGVyKGdlbWluaUtleT86IHN0cmluZywgb3BlbmFpS2V5Pzogc3RyaW5nLCBhbnRocm9waWNLZXk/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgaGZLZXkgPSBwcm9jZXNzLmVudi5IVUdHSU5HRkFDRV9BUElfS0VZIHx8IHByb2Nlc3MuZW52LkhGX1RPS0VOO1xyXG4gICAgaWYgKGhmS2V5KSByZXR1cm4gJ2h1Z2dpbmdmYWNlJzsgLy8gUHJpb3JpdGl6ZSBmcmVlIEh1Z2dpbmcgRmFjZVxyXG4gICAgaWYgKGdlbWluaUtleSkgcmV0dXJuICdnZW1pbmknO1xyXG4gICAgaWYgKG9wZW5haUtleSkgcmV0dXJuICdvcGVuYWknO1xyXG4gICAgaWYgKGFudGhyb3BpY0tleSkgcmV0dXJuICdhbnRocm9waWMnO1xyXG4gICAgcmV0dXJuICdmYWxsYmFjayc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEFjdHVhbE1vZGVsKG1vZGVsOiBzdHJpbmcsIHByb3ZpZGVyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKG1vZGVsID09PSAnYXV0bycpIHtcclxuICAgICAgICBzd2l0Y2ggKHByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2h1Z2dpbmdmYWNlJzogcmV0dXJuIEhVR0dJTkdGQUNFX01PREVMU1snYXV0byddO1xyXG4gICAgICAgICAgICBjYXNlICdnZW1pbmknOiByZXR1cm4gJ2dlbWluaS0yLjAtZmxhc2gtZXhwJztcclxuICAgICAgICAgICAgY2FzZSAnb3BlbmFpJzogcmV0dXJuICdncHQtNG8tbWluaSc7XHJcbiAgICAgICAgICAgIGNhc2UgJ2FudGhyb3BpYyc6IHJldHVybiAnY2xhdWRlLTMtaGFpa3UtMjAyNDAzMDcnO1xyXG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gJ2F1dG8nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiBtb2RlbCBiZWxvbmdzIHRvIHRoZSBwcm92aWRlclxyXG4gICAgaWYgKHByb3ZpZGVyID09PSAnZ2VtaW5pJyAmJiBHRU1JTklfTU9ERUxTW21vZGVsXSkge1xyXG4gICAgICAgIHJldHVybiBHRU1JTklfTU9ERUxTW21vZGVsXTtcclxuICAgIH1cclxuICAgIGlmIChwcm92aWRlciA9PT0gJ29wZW5haScgJiYgT1BFTkFJX01PREVMU1ttb2RlbF0pIHtcclxuICAgICAgICByZXR1cm4gT1BFTkFJX01PREVMU1ttb2RlbF07XHJcbiAgICB9XHJcbiAgICBpZiAocHJvdmlkZXIgPT09ICdhbnRocm9waWMnICYmIEFOVEhST1BJQ19NT0RFTFNbbW9kZWxdKSB7XHJcbiAgICAgICAgcmV0dXJuIEFOVEhST1BJQ19NT0RFTFNbbW9kZWxdO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb3ZpZGVyID09PSAnaHVnZ2luZ2ZhY2UnICYmIEhVR0dJTkdGQUNFX01PREVMU1ttb2RlbF0pIHtcclxuICAgICAgICByZXR1cm4gSFVHR0lOR0ZBQ0VfTU9ERUxTW21vZGVsXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm4gZGVmYXVsdCBmb3IgcHJvdmlkZXJcclxuICAgIHN3aXRjaCAocHJvdmlkZXIpIHtcclxuICAgICAgICBjYXNlICdnZW1pbmknOiByZXR1cm4gJ2dlbWluaS0yLjAtZmxhc2gtZXhwJztcclxuICAgICAgICBjYXNlICdvcGVuYWknOiByZXR1cm4gJ2dwdC00by1taW5pJztcclxuICAgICAgICBjYXNlICdhbnRocm9waWMnOiByZXR1cm4gJ2NsYXVkZS0zLWhhaWt1LTIwMjQwMzA3JztcclxuICAgICAgICBjYXNlICdodWdnaW5nZmFjZSc6IHJldHVybiBIVUdHSU5HRkFDRV9NT0RFTFNbJ2F1dG8nXTtcclxuICAgICAgICBkZWZhdWx0OiByZXR1cm4gbW9kZWw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNhbGxHZW1pbmkoXHJcbiAgICBhcGlLZXk6IHN0cmluZyxcclxuICAgIHByb21wdDogc3RyaW5nLFxyXG4gICAgZGJUeXBlOiBzdHJpbmcsXHJcbiAgICBkYXRhYmFzZTogc3RyaW5nLFxyXG4gICAgdGFibGVzOiBzdHJpbmdbXSxcclxuICAgIG1vZGVsOiBzdHJpbmcsXHJcbiAgICB0ZW1wZXJhdHVyZTogbnVtYmVyXHJcbik6IFByb21pc2U8eyBzcWw6IHN0cmluZzsgZXhwbGFuYXRpb246IHN0cmluZyB9PiB7XHJcbiAgICBjb25zdCBzeXN0ZW1Qcm9tcHQgPSBidWlsZFN5c3RlbVByb21wdChkYlR5cGUsIGRhdGFiYXNlLCB0YWJsZXMpO1xyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgYGh0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tL3YxYmV0YS9tb2RlbHMvJHttb2RlbH06Z2VuZXJhdGVDb250ZW50P2tleT0ke2FwaUtleX1gLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0czogW3sgdGV4dDogYCR7c3lzdGVtUHJvbXB0fVxcblxcblVzZXIgcmVxdWVzdDogJHtwcm9tcHR9YCB9XVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGVyYXR1cmUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4T3V0cHV0VG9rZW5zOiAyMDQ4LFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHJlc3BvbnNlIGlzIE9LXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICBpZiAodGV4dC5pbmNsdWRlcygnPCFET0NUWVBFJykgfHwgdGV4dC5pbmNsdWRlcygnPGh0bWwnKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEdlbWluaSBBUEkgZXJyb3IgKCR7cmVzcG9uc2Uuc3RhdHVzfSk6IENoZWNrIHlvdXIgQVBJIGtleSBpcyB2YWxpZCBhbmQgaGFzIEdlbmVyYXRpdmUgTGFuZ3VhZ2UgQVBJIGVuYWJsZWRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBHZW1pbmkgQVBJIGVycm9yICgke3Jlc3BvbnNlLnN0YXR1c30pOiAke3RleHQuc2xpY2UoMCwgMjAwKX1gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHJlc3BvbnNlIGlzIEhUTUwgKGVycm9yIHBhZ2UpXHJcbiAgICBpZiAodGV4dC5zdGFydHNXaXRoKCc8IURPQ1RZUEUnKSB8fCB0ZXh0LnN0YXJ0c1dpdGgoJzxodG1sJykpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dlbWluaSBBUEkgcmV0dXJuZWQgYW4gZXJyb3IgcGFnZS4gUGxlYXNlIGNoZWNrIHlvdXIgQVBJIGtleS4nKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZGF0YTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcmVzcG9uc2UgZnJvbSBHZW1pbmk6ICR7dGV4dC5zbGljZSgwLCAxMDApfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkYXRhLmVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IubWVzc2FnZSB8fCAnR2VtaW5pIEFQSSBlcnJvcicpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbnRlbnQgPSBkYXRhLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHM/LlswXT8udGV4dCB8fCAnJztcclxuICAgIGlmICghY29udGVudCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignR2VtaW5pIHJldHVybmVkIGVtcHR5IHJlc3BvbnNlLiBUaGUgcXVlcnkgbWF5IGhhdmUgYmVlbiBibG9ja2VkLicpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbQUkgQVBJXSBHZW1pbmkgcmF3IHJlc3BvbnNlOicsIGNvbnRlbnQuc2xpY2UoMCwgNTAwKSk7XHJcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUFJUmVzcG9uc2UoY29udGVudCk7XHJcbiAgICBjb25zb2xlLmxvZygnW0FJIEFQSV0gUGFyc2VkIHJlc3VsdDonLCB7IHNxbDogcGFyc2VkLnNxbC5zbGljZSgwLCAxMDApLCBleHBsYW5hdGlvbjogcGFyc2VkLmV4cGxhbmF0aW9uLnNsaWNlKDAsIDEwMCkgfSk7XHJcblxyXG4gICAgcmV0dXJuIHBhcnNlZDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gY2FsbE9wZW5BSShcclxuICAgIGFwaUtleTogc3RyaW5nLFxyXG4gICAgcHJvbXB0OiBzdHJpbmcsXHJcbiAgICBkYlR5cGU6IHN0cmluZyxcclxuICAgIGRhdGFiYXNlOiBzdHJpbmcsXHJcbiAgICB0YWJsZXM6IHN0cmluZ1tdLFxyXG4gICAgbW9kZWw6IHN0cmluZyxcclxuICAgIHRlbXBlcmF0dXJlOiBudW1iZXJcclxuKTogUHJvbWlzZTx7IHNxbDogc3RyaW5nOyBleHBsYW5hdGlvbjogc3RyaW5nIH0+IHtcclxuICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IGJ1aWxkU3lzdGVtUHJvbXB0KGRiVHlwZSwgZGF0YWJhc2UsIHRhYmxlcyk7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MS9jaGF0L2NvbXBsZXRpb25zJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXBpS2V5fWAsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIG1vZGVsLFxyXG4gICAgICAgICAgICBtZXNzYWdlczogW1xyXG4gICAgICAgICAgICAgICAgeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogc3lzdGVtUHJvbXB0IH0sXHJcbiAgICAgICAgICAgICAgICB7IHJvbGU6ICd1c2VyJywgY29udGVudDogcHJvbXB0IH1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgdGVtcGVyYXR1cmUsXHJcbiAgICAgICAgICAgIG1heF90b2tlbnM6IDIwNDgsXHJcbiAgICAgICAgfSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgIGlmIChkYXRhLmVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29udGVudCA9IGRhdGEuY2hvaWNlcz8uWzBdPy5tZXNzYWdlPy5jb250ZW50IHx8ICcnO1xyXG4gICAgcmV0dXJuIHBhcnNlQUlSZXNwb25zZShjb250ZW50KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gY2FsbEFudGhyb3BpYyhcclxuICAgIGFwaUtleTogc3RyaW5nLFxyXG4gICAgcHJvbXB0OiBzdHJpbmcsXHJcbiAgICBkYlR5cGU6IHN0cmluZyxcclxuICAgIGRhdGFiYXNlOiBzdHJpbmcsXHJcbiAgICB0YWJsZXM6IHN0cmluZ1tdLFxyXG4gICAgbW9kZWw6IHN0cmluZyxcclxuICAgIHRlbXBlcmF0dXJlOiBudW1iZXJcclxuKTogUHJvbWlzZTx7IHNxbDogc3RyaW5nOyBleHBsYW5hdGlvbjogc3RyaW5nIH0+IHtcclxuICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IGJ1aWxkU3lzdGVtUHJvbXB0KGRiVHlwZSwgZGF0YWJhc2UsIHRhYmxlcyk7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuYW50aHJvcGljLmNvbS92MS9tZXNzYWdlcycsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICd4LWFwaS1rZXknOiBhcGlLZXksXHJcbiAgICAgICAgICAgICdhbnRocm9waWMtdmVyc2lvbic6ICcyMDIzLTA2LTAxJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgbW9kZWwsXHJcbiAgICAgICAgICAgIHN5c3RlbTogc3lzdGVtUHJvbXB0LFxyXG4gICAgICAgICAgICBtZXNzYWdlczogW3sgcm9sZTogJ3VzZXInLCBjb250ZW50OiBwcm9tcHQgfV0sXHJcbiAgICAgICAgICAgIG1heF90b2tlbnM6IDIwNDgsXHJcbiAgICAgICAgICAgIHRlbXBlcmF0dXJlLFxyXG4gICAgICAgIH0pLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICBpZiAoZGF0YS5lcnJvcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yLm1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbnRlbnQgPSBkYXRhLmNvbnRlbnQ/LlswXT8udGV4dCB8fCAnJztcclxuICAgIHJldHVybiBwYXJzZUFJUmVzcG9uc2UoY29udGVudCk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNhbGxIdWdnaW5nRmFjZShcclxuICAgIGFwaUtleTogc3RyaW5nLFxyXG4gICAgcHJvbXB0OiBzdHJpbmcsXHJcbiAgICBkYlR5cGU6IHN0cmluZyxcclxuICAgIGRhdGFiYXNlOiBzdHJpbmcsXHJcbiAgICB0YWJsZXM6IHN0cmluZ1tdLFxyXG4gICAgbW9kZWw6IHN0cmluZyxcclxuICAgIHRlbXBlcmF0dXJlOiBudW1iZXJcclxuKTogUHJvbWlzZTx7IHNxbDogc3RyaW5nOyBleHBsYW5hdGlvbjogc3RyaW5nIH0+IHtcclxuICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IGJ1aWxkU3lzdGVtUHJvbXB0KGRiVHlwZSwgZGF0YWJhc2UsIHRhYmxlcyk7XHJcblxyXG4gICAgLy8gSHVnZ2luZyBGYWNlIEluZmVyZW5jZSBBUEkgLSBVc2luZyBuZXdlciByb3V0ZXIgZW5kcG9pbnRcclxuICAgIC8vIFNvbWUgbW9kZWxzIChlc3BlY2lhbGx5IG9uIEhGKSBhcmUgcGlja3kgYWJvdXQgdGhlICdzeXN0ZW0nIHJvbGUuXHJcbiAgICAvLyBXZSdsbCBwcmVwYXJlIGEgZmFsbGJhY2sgcHJvbXB0IGp1c3QgaW4gY2FzZS5cclxuICAgIGNvbnN0IG1lc3NhZ2VzID0gW1xyXG4gICAgICAgIHsgcm9sZTogJ3N5c3RlbScsIGNvbnRlbnQ6IHN5c3RlbVByb21wdCB9LFxyXG4gICAgICAgIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBwcm9tcHQgfVxyXG4gICAgXTtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL3JvdXRlci5odWdnaW5nZmFjZS5jby92MS9jaGF0L2NvbXBsZXRpb25zYCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXBpS2V5fWAsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIG1vZGVsOiBtb2RlbCxcclxuICAgICAgICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzLFxyXG4gICAgICAgICAgICB0ZW1wZXJhdHVyZSxcclxuICAgICAgICAgICAgbWF4X3Rva2VuczogMTAyNCwgLy8gTG93ZXJlZCBzbGlnaHRseSB0byBiZSBzYWZlclxyXG4gICAgICAgIH0pLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbQUkgQVBJXSBIdWdnaW5nIEZhY2UgRXJyb3I6JywgZXJyb3JUZXh0KTtcclxuXHJcbiAgICAgICAgLy8gSWYgNDAwLCBpdCBtaWdodCBiZSB0aGUgc3lzdGVtIHJvbGUuIExldCdzIHRyeSBvbmUgZmFsbGJhY2sgaWYgaXQncyBhIDQwMFxyXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMCAmJiAhcHJvbXB0LmluY2x1ZGVzKCdGYWxsYmFjayBBdHRlbXB0JykpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tBSSBBUEldIEhGIDQwMCBFcnJvci4gVHJ5aW5nIGZhbGxiYWNrIHdpdGhvdXQgc3lzdGVtIHJvbGUuLi4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNhbGxIdWdnaW5nRmFjZShhcGlLZXksIGBbU3lzdGVtIEluc3RydWN0aW9uOiAke3N5c3RlbVByb21wdH1dXFxuXFxuVXNlciBRdWVzdGlvbjogJHtwcm9tcHR9IChGYWxsYmFjayBBdHRlbXB0KWAsIGRiVHlwZSwgZGF0YWJhc2UsIHRhYmxlcywgbW9kZWwsIHRlbXBlcmF0dXJlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSHVnZ2luZyBGYWNlIEFQSSBlcnJvciAoJHtyZXNwb25zZS5zdGF0dXN9KTogJHtlcnJvclRleHQuc2xpY2UoMCwgNTAwKX1gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgY29uc29sZS5sb2coJ1tBSSBBUEldIEh1Z2dpbmcgRmFjZSByYXcgZGF0YTonLCBKU09OLnN0cmluZ2lmeShkYXRhKS5zbGljZSgwLCAxMDAwKSk7XHJcblxyXG4gICAgLy8gSGFuZGxlIE9wZW5BSS1jb21wYXRpYmxlIHJlc3BvbnNlIGZvcm1hdCBmcm9tIEh1Z2dpbmcgRmFjZVxyXG4gICAgbGV0IGNvbnRlbnQgPSAnJztcclxuXHJcbiAgICBpZiAoZGF0YS5jaG9pY2VzICYmIGRhdGEuY2hvaWNlc1swXSAmJiBkYXRhLmNob2ljZXNbMF0ubWVzc2FnZSkge1xyXG4gICAgICAgIGNvbnRlbnQgPSBkYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50IHx8ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghY29udGVudCkge1xyXG4gICAgICAgIC8vIEZhbGxiYWNrIGZvciB0cmFkaXRpb25hbCBIRiBmb3JtYXQ6IFt7Z2VuZXJhdGVkX3RleHQ6IFwiLi4uXCJ9XVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpICYmIGRhdGFbMF0gJiYgZGF0YVswXS5nZW5lcmF0ZWRfdGV4dCkge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gZGF0YVswXS5nZW5lcmF0ZWRfdGV4dDtcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZ2VuZXJhdGVkX3RleHQpIHtcclxuICAgICAgICAgICAgY29udGVudCA9IGRhdGEuZ2VuZXJhdGVkX3RleHQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnRleHQpIHtcclxuICAgICAgICAgICAgY29udGVudCA9IGRhdGEudGV4dDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW0FJIEFQSV0gSEYgRW1wdHkgQ29udGVudC4gRnVsbCBEYXRhOicsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEh1Z2dpbmcgRmFjZSByZXR1cm5lZCBlbXB0eSByZXNwb25zZS4gUmVzcG9uc2Ugc3RydWN0dXJlOiAke09iamVjdC5rZXlzKGRhdGEpLmpvaW4oJywgJyl9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIdWdnaW5nIEZhY2UgcmV0dXJuZWQgZW1wdHkgcmVzcG9uc2UnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnW0FJIEFQSV0gSHVnZ2luZyBGYWNlIHJhdyByZXNwb25zZTonLCBjb250ZW50LnNsaWNlKDAsIDUwMCkpO1xyXG4gICAgcmV0dXJuIHBhcnNlQUlSZXNwb25zZShjb250ZW50KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VBSVJlc3BvbnNlKGNvbnRlbnQ6IHN0cmluZyk6IHsgc3FsOiBzdHJpbmc7IGV4cGxhbmF0aW9uOiBzdHJpbmcgfSB7XHJcbiAgICAvLyBUcnkgdG8gZXh0cmFjdCBTUUwgZnJvbSBjb2RlIGJsb2NrcyBpZiBwcmVzZW50XHJcbiAgICBjb25zdCBzcWxNYXRjaCA9IGNvbnRlbnQubWF0Y2goL2BgYHNxbFxcbj8oW1xcc1xcU10qPylgYGAvaSkgfHxcclxuICAgICAgICBjb250ZW50Lm1hdGNoKC9gYGBcXG4/KFtcXHNcXFNdKj8pYGBgLyk7XHJcblxyXG4gICAgaWYgKHNxbE1hdGNoKSB7XHJcbiAgICAgICAgY29uc3Qgc3FsID0gc3FsTWF0Y2hbMV0udHJpbSgpO1xyXG4gICAgICAgIGNvbnN0IGV4cGxhbmF0aW9uID0gY29udGVudC5zcGxpdCgnYGBgJylbMF0udHJpbSgpIHx8ICdHZW5lcmF0ZWQgcXVlcnk6JztcclxuICAgICAgICByZXR1cm4geyBzcWwsIGV4cGxhbmF0aW9uIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gY29kZSBibG9jayAtIHJldHVybiB0aGUgZnVsbCByZXNwb25zZSBhcyBleHBsYW5hdGlvblxyXG4gICAgLy8gYW5kIHRyeSB0byBleHRyYWN0IGFueSBTUUwtbGlrZSBjb250ZW50XHJcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xyXG4gICAgY29uc3Qgc3FsS2V5d29yZHMgPSBbJ1NFTEVDVCcsICdJTlNFUlQnLCAnVVBEQVRFJywgJ0RFTEVURScsICdDUkVBVEUnLCAnQUxURVInLCAnRFJPUCcsICdXSVRIJywgJ0VYUExBSU4nLCAnU0hPVycsICdERVNDUklCRSddO1xyXG5cclxuICAgIGNvbnN0IHNxbExpbmVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgY29uc3QgZXhwbGFuYXRpb25MaW5lczogc3RyaW5nW10gPSBbXTtcclxuICAgIGxldCBmb3VuZFNRTCA9IGZhbHNlO1xyXG5cclxuICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xyXG4gICAgICAgIGNvbnN0IHRyaW1tZWQgPSBsaW5lLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIGlmICghZm91bmRTUUwgJiYgc3FsS2V5d29yZHMuc29tZShrdyA9PiB0cmltbWVkLnN0YXJ0c1dpdGgoa3cpKSkge1xyXG4gICAgICAgICAgICBmb3VuZFNRTCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZm91bmRTUUwpIHtcclxuICAgICAgICAgICAgc3FsTGluZXMucHVzaChsaW5lKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBleHBsYW5hdGlvbkxpbmVzLnB1c2gobGluZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNxbCA9IHNxbExpbmVzLmpvaW4oJ1xcbicpLnRyaW0oKTtcclxuICAgIGNvbnN0IGV4cGxhbmF0aW9uID0gZXhwbGFuYXRpb25MaW5lcy5qb2luKCdcXG4nKS50cmltKCkgfHwgY29udGVudDtcclxuXHJcbiAgICAvLyBJZiBubyBTUUwgZm91bmQsIHJldHVybiBmdWxsIGNvbnRlbnQgYXMgZXhwbGFuYXRpb25cclxuICAgIGlmICghc3FsKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgc3FsOiAnJywgZXhwbGFuYXRpb246IGNvbnRlbnQgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBzcWwsIGV4cGxhbmF0aW9uIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlRmFsbGJhY2tTUUwoXHJcbiAgICBwcm9tcHQ6IHN0cmluZyxcclxuICAgIGRiVHlwZTogc3RyaW5nLFxyXG4gICAgdGFibGVzOiBzdHJpbmdbXVxyXG4pOiB7IHNxbDogc3RyaW5nOyBleHBsYW5hdGlvbjogc3RyaW5nIH0ge1xyXG4gICAgY29uc3QgbG93ZXJQcm9tcHQgPSBwcm9tcHQudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAvLyBTaW1wbGUgcGF0dGVybiBtYXRjaGluZyBmb3IgY29tbW9uIHJlcXVlc3RzXHJcbiAgICBpZiAobG93ZXJQcm9tcHQuaW5jbHVkZXMoJ3Nob3cnKSAmJiBsb3dlclByb21wdC5pbmNsdWRlcygndGFibGUnKSkge1xyXG4gICAgICAgIGlmIChkYlR5cGUgPT09ICdwb3N0Z3Jlc3FsJykge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3FsOiBgU0VMRUNUIHRhYmxlX3NjaGVtYSwgdGFibGVfbmFtZSwgdGFibGVfdHlwZVxyXG5GUk9NIGluZm9ybWF0aW9uX3NjaGVtYS50YWJsZXNcclxuV0hFUkUgdGFibGVfc2NoZW1hIE5PVCBJTiAoJ3BnX2NhdGFsb2cnLCAnaW5mb3JtYXRpb25fc2NoZW1hJylcclxuT1JERVIgQlkgdGFibGVfc2NoZW1hLCB0YWJsZV9uYW1lO2AsXHJcbiAgICAgICAgICAgICAgICBleHBsYW5hdGlvbjogJ0xpc3RzIGFsbCB0YWJsZXMgaW4geW91ciBkYXRhYmFzZS4nXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHNxbDogYFNIT1cgVEFCTEVTO2AsXHJcbiAgICAgICAgICAgICAgICBleHBsYW5hdGlvbjogJ0xpc3RzIGFsbCB0YWJsZXMgaW4geW91ciBkYXRhYmFzZS4nXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICgobG93ZXJQcm9tcHQuaW5jbHVkZXMoJ2NvdW50JykgfHwgbG93ZXJQcm9tcHQuaW5jbHVkZXMoJ3JvdycpKSAmJiBsb3dlclByb21wdC5pbmNsdWRlcygnZWFjaCcpKSB7XHJcbiAgICAgICAgaWYgKGRiVHlwZSA9PT0gJ3Bvc3RncmVzcWwnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzcWw6IGBTRUxFQ1Qgc2NoZW1hbmFtZSwgcmVsbmFtZSBhcyB0YWJsZV9uYW1lLCBuX2xpdmVfdHVwIGFzIHJvd19jb3VudFxyXG5GUk9NIHBnX3N0YXRfdXNlcl90YWJsZXNcclxuT1JERVIgQlkgbl9saXZlX3R1cCBERVNDO2AsXHJcbiAgICAgICAgICAgICAgICBleHBsYW5hdGlvbjogJ1Nob3dzIHJvdyBjb3VudHMgZm9yIGVhY2ggdGFibGUgaW4geW91ciBkYXRhYmFzZS4nXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChsb3dlclByb21wdC5pbmNsdWRlcygnc2NoZW1hJykgfHwgbG93ZXJQcm9tcHQuaW5jbHVkZXMoJ2Rlc2NyaWJlJykpIHtcclxuICAgICAgICBpZiAodGFibGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgdGFibGUgPSB0YWJsZXNbMF07XHJcbiAgICAgICAgICAgIGlmIChkYlR5cGUgPT09ICdwb3N0Z3Jlc3FsJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzcWw6IGBTRUxFQ1QgY29sdW1uX25hbWUsIGRhdGFfdHlwZSwgaXNfbnVsbGFibGUsIGNvbHVtbl9kZWZhdWx0XHJcbkZST00gaW5mb3JtYXRpb25fc2NoZW1hLmNvbHVtbnNcclxuV0hFUkUgdGFibGVfbmFtZSA9ICcke3RhYmxlLnNwbGl0KCcuJykucG9wKCl9J1xyXG5PUkRFUiBCWSBvcmRpbmFsX3Bvc2l0aW9uO2AsXHJcbiAgICAgICAgICAgICAgICAgICAgZXhwbGFuYXRpb246IGBTaG93cyB0aGUgc2NoZW1hIGZvciB0YWJsZSAke3RhYmxlfS5gXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzcWw6IGBERVNDUklCRSAke3RhYmxlfTtgLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBgU2hvd3MgdGhlIHNjaGVtYSBmb3IgdGFibGUgJHt0YWJsZX0uYFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobG93ZXJQcm9tcHQuaW5jbHVkZXMoJ2NvdW50JykgJiYgdGFibGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCB0YWJsZSA9IHRhYmxlc1swXTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzcWw6IGBTRUxFQ1QgQ09VTlQoKikgYXMgdG90YWwgRlJPTSAke3RhYmxlfTtgLFxyXG4gICAgICAgICAgICBleHBsYW5hdGlvbjogYENvdW50cyBhbGwgcm93cyBpbiAke3RhYmxlfS5gXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobG93ZXJQcm9tcHQuaW5jbHVkZXMoJ3NhbXBsZScpIHx8IGxvd2VyUHJvbXB0LmluY2x1ZGVzKCdkYXRhJykpIHtcclxuICAgICAgICBpZiAodGFibGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgdGFibGUgPSB0YWJsZXNbMF07XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzcWw6IGBTRUxFQ1QgKiBGUk9NICR7dGFibGV9IExJTUlUIDEwO2AsXHJcbiAgICAgICAgICAgICAgICBleHBsYW5hdGlvbjogYFNob3dzIHNhbXBsZSBkYXRhIGZyb20gJHt0YWJsZX0uYFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobG93ZXJQcm9tcHQuaW5jbHVkZXMoJ3NlbGVjdCcpIHx8IGxvd2VyUHJvbXB0LmluY2x1ZGVzKCdzaG93JykgfHwgbG93ZXJQcm9tcHQuaW5jbHVkZXMoJ2dldCcpKSB7XHJcbiAgICAgICAgaWYgKHRhYmxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhYmxlID0gdGFibGVzWzBdO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3FsOiBgU0VMRUNUICogRlJPTSAke3RhYmxlfSBMSU1JVCAxMDA7YCxcclxuICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBgUmV0cmlldmVzIGZpcnN0IDEwMCByb3dzIGZyb20gJHt0YWJsZX0uYFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobG93ZXJQcm9tcHQuaW5jbHVkZXMoJ2NyZWF0ZScpICYmIGxvd2VyUHJvbXB0LmluY2x1ZGVzKCd0YWJsZScpKSB7XHJcbiAgICAgICAgY29uc3QgdGFibGVOYW1lID0gbG93ZXJQcm9tcHQubWF0Y2goL3RhYmxlXFxzKyhcXHcrKS8pPy5bMV0gfHwgJ25ld190YWJsZSc7XHJcbiAgICAgICAgaWYgKGRiVHlwZSA9PT0gJ3Bvc3RncmVzcWwnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzcWw6IGBDUkVBVEUgVEFCTEUgJHt0YWJsZU5hbWV9IChcclxuICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSxcclxuICAgIG5hbWUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxyXG4gICAgZW1haWwgVkFSQ0hBUigyNTUpIFVOSVFVRSxcclxuICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXHJcbiAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXHJcbik7YCxcclxuICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBgQ3JlYXRlcyBhIG5ldyB0YWJsZSBjYWxsZWQgJHt0YWJsZU5hbWV9IHdpdGggY29tbW9uIGZpZWxkcy5gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHNxbDogYENSRUFURSBUQUJMRSAke3RhYmxlTmFtZX0gKFxyXG4gICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxyXG4gICAgbmFtZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXHJcbiAgICBlbWFpbCBWQVJDSEFSKDI1NSkgVU5JUVVFLFxyXG4gICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcclxuICAgIHVwZGF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QXHJcbik7YCxcclxuICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBgQ3JlYXRlcyBhIG5ldyB0YWJsZSBjYWxsZWQgJHt0YWJsZU5hbWV9IHdpdGggY29tbW9uIGZpZWxkcy5gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIERlZmF1bHQgZmFsbGJhY2tcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgc3FsOiBgLS0gQ291bGQgbm90IGdlbmVyYXRlIFNRTCBmb3I6IFwiJHtwcm9tcHR9XCJcclxuLS0gUGxlYXNlIGNvbmZpZ3VyZSBhbiBBSSBBUEkga2V5IGZvciBiZXR0ZXIgcmVzdWx0cy5cclxuLS0gQWRkIG9uZSBvZiB0aGVzZSB0byB5b3VyIC5lbnYubG9jYWwgZmlsZTpcclxuLS0gICBHRU1JTklfQVBJX0tFWT15b3VyX2tleSAoZnJlZSBhdCBhaXN0dWRpby5nb29nbGUuY29tKVxyXG4tLSAgIE9QRU5BSV9BUElfS0VZPXlvdXJfa2V5XHJcbi0tICAgQU5USFJPUElDX0FQSV9LRVk9eW91cl9rZXlcclxuXHJcblNFTEVDVCAnQ29uZmlndXJlIEFJIEFQSSBrZXkgZm9yIGFkdmFuY2VkIHF1ZXJpZXMnIGFzIG1lc3NhZ2U7YCxcclxuICAgICAgICBleHBsYW5hdGlvbjogJ/CfkqEgRm9yIGNvbXBsZXggcXVlcmllcywgcGxlYXNlIGNvbmZpZ3VyZSBhbiBBSSBBUEkga2V5LiBHZW1pbmkgQVBJIGlzIGZyZWUgdG8gc3RhcnQhJ1xyXG4gICAgfTtcclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiR0VNSU5JX01PREVMUyIsIk9QRU5BSV9NT0RFTFMiLCJBTlRIUk9QSUNfTU9ERUxTIiwiSFVHR0lOR0ZBQ0VfTU9ERUxTIiwiYnVpbGRTeXN0ZW1Qcm9tcHQiLCJkYlR5cGUiLCJkYXRhYmFzZSIsInRhYmxlcyIsInRhYmxlTGlzdCIsImxlbmd0aCIsInNsaWNlIiwiam9pbiIsInRvVXBwZXJDYXNlIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsInByb21wdCIsIm1vZGVsIiwicHJvdmlkZXIiLCJ0ZW1wZXJhdHVyZSIsImVycm9yIiwic3RhdHVzIiwib3BlbmFpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwiZ2VtaW5pS2V5IiwiR0VNSU5JX0FQSV9LRVkiLCJhbnRocm9waWNLZXkiLCJBTlRIUk9QSUNfQVBJX0tFWSIsImhmS2V5IiwiSFVHR0lOR0ZBQ0VfQVBJX0tFWSIsIkhGX1RPS0VOIiwiY29uc29sZSIsImxvZyIsImdlbWluaSIsIm9wZW5haSIsImFudGhyb3BpYyIsImh1Z2dpbmdmYWNlIiwic3FsIiwiZXhwbGFuYXRpb24iLCJ1c2VkTW9kZWwiLCJ1c2VQcm92aWRlciIsImRldGVybWluZVByb3ZpZGVyIiwiYWN0dWFsTW9kZWwiLCJnZXRBY3R1YWxNb2RlbCIsIkVycm9yIiwiZ2VtaW5pUmVzdWx0IiwiY2FsbEdlbWluaSIsIm9wZW5haVJlc3VsdCIsImNhbGxPcGVuQUkiLCJhbnRocm9waWNSZXN1bHQiLCJjYWxsQW50aHJvcGljIiwiaGZSZXN1bHQiLCJjYWxsSHVnZ2luZ0ZhY2UiLCJmYWxsYmFja1Jlc3VsdCIsImdlbmVyYXRlRmFsbGJhY2tTUUwiLCJwcm92aWRlckVycm9yIiwibWVzc2FnZSIsImZhbGxiYWNrTW9kZWwiLCJnZW1pbmlFcnJvciIsImFwaUtleSIsInN5c3RlbVByb21wdCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnRzIiwicm9sZSIsInBhcnRzIiwidGV4dCIsImdlbmVyYXRpb25Db25maWciLCJtYXhPdXRwdXRUb2tlbnMiLCJvayIsImluY2x1ZGVzIiwic3RhcnRzV2l0aCIsImRhdGEiLCJwYXJzZSIsImNvbnRlbnQiLCJjYW5kaWRhdGVzIiwicGFyc2VkIiwicGFyc2VBSVJlc3BvbnNlIiwibWVzc2FnZXMiLCJtYXhfdG9rZW5zIiwiY2hvaWNlcyIsInN5c3RlbSIsImVycm9yVGV4dCIsIkFycmF5IiwiaXNBcnJheSIsImdlbmVyYXRlZF90ZXh0IiwiT2JqZWN0Iiwia2V5cyIsInNxbE1hdGNoIiwibWF0Y2giLCJ0cmltIiwic3BsaXQiLCJsaW5lcyIsInNxbEtleXdvcmRzIiwic3FsTGluZXMiLCJleHBsYW5hdGlvbkxpbmVzIiwiZm91bmRTUUwiLCJsaW5lIiwidHJpbW1lZCIsInNvbWUiLCJrdyIsInB1c2giLCJsb3dlclByb21wdCIsInRvTG93ZXJDYXNlIiwidGFibGUiLCJwb3AiLCJ0YWJsZU5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/ai/generate-sql/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fgenerate-sql%2Froute&page=%2Fapi%2Fai%2Fgenerate-sql%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fgenerate-sql%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();