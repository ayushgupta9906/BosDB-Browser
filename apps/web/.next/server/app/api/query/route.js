"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/query/route";
exports.ids = ["app/api/query/route"];
exports.modules = {

/***/ "dockerode":
/*!****************************!*\
  !*** external "dockerode" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("dockerode");

/***/ }),

/***/ "mysql2/promise":
/*!*********************************!*\
  !*** external "mysql2/promise" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("mysql2/promise");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("timers");

/***/ }),

/***/ "timers/promises":
/*!**********************************!*\
  !*** external "timers/promises" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("timers/promises");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = import("pg");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Arush_Gupta_Downloads_BosDB_Browser_apps_web_src_app_api_query_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/query/route.ts */ \"(rsc)/./src/app/api/query/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/query/route\",\n        pathname: \"/api/query\",\n        filename: \"route\",\n        bundlePath: \"app/api/query/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Arush Gupta\\\\Downloads\\\\BosDB-Browser\\\\apps\\\\web\\\\src\\\\app\\\\api\\\\query\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Arush_Gupta_Downloads_BosDB_Browser_apps_web_src_app_api_query_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/query/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZxdWVyeSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcXVlcnklMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZxdWVyeSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBcnVzaCUyMEd1cHRhJTVDRG93bmxvYWRzJTVDQm9zREItQnJvd3NlciU1Q2FwcHMlNUN3ZWIlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q0FydXNoJTIwR3VwdGElNUNEb3dubG9hZHMlNUNCb3NEQi1Ccm93c2VyJTVDYXBwcyU1Q3dlYiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD1zdGFuZGFsb25lJnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzJDO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJvc2RiL3dlYi8/MmU0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxBcnVzaCBHdXB0YVxcXFxEb3dubG9hZHNcXFxcQm9zREItQnJvd3NlclxcXFxhcHBzXFxcXHdlYlxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxxdWVyeVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJzdGFuZGFsb25lXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3F1ZXJ5L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcXVlcnlcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3F1ZXJ5L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcQXJ1c2ggR3VwdGFcXFxcRG93bmxvYWRzXFxcXEJvc0RCLUJyb3dzZXJcXFxcYXBwc1xcXFx3ZWJcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccXVlcnlcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3F1ZXJ5L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/query/route.ts":
/*!************************************!*\
  !*** ./src/app/api/query/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _bosdb_security__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bosdb/security */ \"(rsc)/../../packages/security/src/index.ts\");\n/* harmony import */ var _bosdb_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bosdb/utils */ \"(rsc)/../../packages/utils/src/index.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/store */ \"(rsc)/./src/lib/store.ts\");\n/* harmony import */ var _lib_queryStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/queryStore */ \"(rsc)/./src/lib/queryStore.ts\");\n\n\n\n\n\nconst logger = new _bosdb_utils__WEBPACK_IMPORTED_MODULE_2__.Logger(\"QueryAPI\");\nasync function POST(request) {\n    let body;\n    try {\n        body = await request.json();\n        const { connectionId, query, timeout, maxRows } = body;\n        if (!connectionId || !query) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing connectionId or query\"\n            }, {\n                status: 400\n            });\n        }\n        // Debug: Log connection ID and available connections\n        logger.info(`Looking for connection: ${connectionId}`);\n        logger.info(`Available connections: ${Array.from(_lib_store__WEBPACK_IMPORTED_MODULE_3__.connections.keys()).join(\", \")}`);\n        logger.info(`Total connections in store: ${_lib_store__WEBPACK_IMPORTED_MODULE_3__.connections.size}`);\n        // Get connection info\n        const connectionInfo = await (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.getConnection)(connectionId);\n        if (!connectionInfo) {\n            logger.error(`Connection ${connectionId} not found in store`);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Connection not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Validate query for SQL injection\n        const validation = (0,_bosdb_security__WEBPACK_IMPORTED_MODULE_1__.validateQuery)(query);\n        if (!validation.safe) {\n            logger.warn(`Unsafe query blocked: ${validation.reason}`, validation.patterns);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unsafe query detected\",\n                reason: validation.reason,\n                patterns: validation.patterns\n            }, {\n                status: 400\n            });\n        }\n        // Check if read-only connection allows this query\n        if (connectionInfo.readOnly && !(0,_bosdb_security__WEBPACK_IMPORTED_MODULE_1__.isReadOnlyQuery)(query)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Write operations not allowed on read-only connection\"\n            }, {\n                status: 403\n            });\n        }\n        // Get adapter instance\n        let adapter;\n        let adapterConnectionId;\n        try {\n            // Use shared helper to get connected adapter\n            // This ensures consistent connection state across all API routes\n            const result = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/mongodb\"), __webpack_require__.e(\"vendor-chunks/tr46\"), __webpack_require__.e(\"vendor-chunks/ioredis\"), __webpack_require__.e(\"vendor-chunks/bson\"), __webpack_require__.e(\"vendor-chunks/whatwg-url\"), __webpack_require__.e(\"vendor-chunks/@ioredis\"), __webpack_require__.e(\"vendor-chunks/debug\"), __webpack_require__.e(\"vendor-chunks/lodash.defaults\"), __webpack_require__.e(\"vendor-chunks/aws4\"), __webpack_require__.e(\"vendor-chunks/redis-parser\"), __webpack_require__.e(\"vendor-chunks/punycode\"), __webpack_require__.e(\"vendor-chunks/webidl-conversions\"), __webpack_require__.e(\"vendor-chunks/denque\"), __webpack_require__.e(\"vendor-chunks/mongodb-connection-string-url\"), __webpack_require__.e(\"vendor-chunks/@mongodb-js\"), __webpack_require__.e(\"vendor-chunks/cluster-key-slot\"), __webpack_require__.e(\"vendor-chunks/lodash.isarguments\"), __webpack_require__.e(\"vendor-chunks/memory-pager\"), __webpack_require__.e(\"vendor-chunks/redis-errors\"), __webpack_require__.e(\"vendor-chunks/ms\"), __webpack_require__.e(\"vendor-chunks/supports-color\"), __webpack_require__.e(\"vendor-chunks/sparse-bitfield\"), __webpack_require__.e(\"vendor-chunks/standard-as-callback\"), __webpack_require__.e(\"vendor-chunks/has-flag\"), __webpack_require__.e(\"_rsc_src_lib_db-utils_ts-_135f-_1681-_937c-_452d-_e1e1-_dae9-_4793-_b7e71\")]).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/db-utils */ \"(rsc)/./src/lib/db-utils.ts\")).then((m)=>m.getConnectedAdapter(connectionId));\n            adapter = result.adapter;\n            adapterConnectionId = result.adapterConnectionId;\n        } catch (connError) {\n            logger.error(`Failed to connect to database: ${connError.message}`);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `Failed to connect to database: ${connError.message}`\n            }, {\n                status: 500\n            });\n        }\n        const userEmail = request.headers.get(\"x-user-email\");\n        // Execute query\n        const queryRequest = {\n            connectionId: adapterConnectionId,\n            query,\n            timeout: timeout || 30000,\n            maxRows: maxRows || 1000\n        };\n        const result = await adapter.executeQuery(queryRequest);\n        logger.info(`Query executed: ${query.substring(0, 50)}... (${result.executionTime}ms, ${result.rowCount} rows)`);\n        // Add to query history\n        try {\n            (0,_lib_queryStore__WEBPACK_IMPORTED_MODULE_4__.addQueryToHistory)({\n                connectionId,\n                connectionName: connectionInfo.name,\n                query,\n                executedAt: new Date().toISOString(),\n                executionTime: result.executionTime,\n                rowCount: result.rowCount,\n                success: true,\n                userEmail: userEmail || undefined\n            });\n        } catch (historyError) {\n            // Don't fail query if history fails\n            logger.error(\"Failed to save query history\", historyError);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            ...result\n        });\n    } catch (error) {\n        logger.error(\"Query execution failed\", error);\n        // Add failed query to history (with safe access)\n        try {\n            // body is already parsed at the top of POST\n            const connInfo = await (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.getConnection)(body.connectionId);\n            const userEmail = request.headers.get(\"x-user-email\");\n            if (connInfo) {\n                (0,_lib_queryStore__WEBPACK_IMPORTED_MODULE_4__.addQueryToHistory)({\n                    connectionId: body.connectionId,\n                    connectionName: connInfo.name,\n                    query: body.query,\n                    executedAt: new Date().toISOString(),\n                    executionTime: 0,\n                    rowCount: 0,\n                    success: false,\n                    error: error.message,\n                    userEmail: userEmail || undefined\n                });\n            }\n        } catch (historyError) {\n            logger.error(\"Failed to save failed query to history\", historyError);\n        }\n        // Extract the actual database error message\n        let errorMessage = error.message;\n        // If error message contains \"Query execution failed: \", extract just the DB error\n        if (errorMessage.includes(\"Query execution failed: \")) {\n            errorMessage = errorMessage.replace(\"Query execution failed: \", \"\");\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: errorMessage,\n            success: false\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDbENOLGVBQWU7b0JBQ2ZDLFVBQVU7b0JBQ1ZNLFNBQVM7b0JBQ1RwQyxPQUFPQSxNQUFNc0IsT0FBTztvQkFDcEJDLFdBQVdBLGFBQWFjO2dCQUM1QjtZQUNKO1FBQ0osRUFBRSxPQUFPQyxjQUFjO1lBQ25CL0MsT0FBT1MsS0FBSyxDQUFDLDBDQUEwQ3NDO1FBQzNEO1FBRUEsNENBQTRDO1FBQzVDLElBQUlFLGVBQWV4QyxNQUFNc0IsT0FBTztRQUVoQyxrRkFBa0Y7UUFDbEYsSUFBSWtCLGFBQWFDLFFBQVEsQ0FBQyw2QkFBNkI7WUFDbkRELGVBQWVBLGFBQWFFLE9BQU8sQ0FBQyw0QkFBNEI7UUFDcEU7UUFFQSxPQUFPMUQscURBQVlBLENBQUNXLElBQUksQ0FDcEI7WUFDSUssT0FBT3dDO1lBQ1BKLFNBQVM7UUFDYixHQUNBO1lBQUVuQyxRQUFRO1FBQUk7SUFFdEI7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bib3NkYi93ZWIvLi9zcmMvYXBwL2FwaS9xdWVyeS9yb3V0ZS50cz9hODA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IEFkYXB0ZXJGYWN0b3J5IH0gZnJvbSAnQGJvc2RiL2RiLWFkYXB0ZXJzJztcclxuaW1wb3J0IHsgZGVjcnlwdENyZWRlbnRpYWxzIH0gZnJvbSAnQGJvc2RiL3NlY3VyaXR5JztcclxuaW1wb3J0IHsgdmFsaWRhdGVRdWVyeSwgaXNSZWFkT25seVF1ZXJ5IH0gZnJvbSAnQGJvc2RiL3NlY3VyaXR5JztcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnQGJvc2RiL3V0aWxzJztcclxuaW1wb3J0IHR5cGUgeyBRdWVyeVJlcXVlc3QgfSBmcm9tICdAYm9zZGIvY29yZSc7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25zLCBhZGFwdGVySW5zdGFuY2VzLCBnZXRDb25uZWN0aW9uIH0gZnJvbSAnQC9saWIvc3RvcmUnO1xyXG5pbXBvcnQgeyBhZGRRdWVyeVRvSGlzdG9yeSB9IGZyb20gJ0AvbGliL3F1ZXJ5U3RvcmUnO1xyXG5cclxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignUXVlcnlBUEknKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgICBsZXQgYm9keTogYW55O1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICAgICAgY29uc3QgeyBjb25uZWN0aW9uSWQsIHF1ZXJ5LCB0aW1lb3V0LCBtYXhSb3dzIH0gPSBib2R5O1xyXG5cclxuICAgICAgICBpZiAoIWNvbm5lY3Rpb25JZCB8fCAhcXVlcnkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICAgICAgeyBlcnJvcjogJ01pc3NpbmcgY29ubmVjdGlvbklkIG9yIHF1ZXJ5JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZWJ1ZzogTG9nIGNvbm5lY3Rpb24gSUQgYW5kIGF2YWlsYWJsZSBjb25uZWN0aW9uc1xyXG4gICAgICAgIGxvZ2dlci5pbmZvKGBMb29raW5nIGZvciBjb25uZWN0aW9uOiAke2Nvbm5lY3Rpb25JZH1gKTtcclxuICAgICAgICBsb2dnZXIuaW5mbyhgQXZhaWxhYmxlIGNvbm5lY3Rpb25zOiAke0FycmF5LmZyb20oY29ubmVjdGlvbnMua2V5cygpKS5qb2luKCcsICcpfWApO1xyXG4gICAgICAgIGxvZ2dlci5pbmZvKGBUb3RhbCBjb25uZWN0aW9ucyBpbiBzdG9yZTogJHtjb25uZWN0aW9ucy5zaXplfWApO1xyXG5cclxuICAgICAgICAvLyBHZXQgY29ubmVjdGlvbiBpbmZvXHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbkluZm8gPSBhd2FpdCBnZXRDb25uZWN0aW9uKGNvbm5lY3Rpb25JZCk7XHJcbiAgICAgICAgaWYgKCFjb25uZWN0aW9uSW5mbykge1xyXG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoYENvbm5lY3Rpb24gJHtjb25uZWN0aW9uSWR9IG5vdCBmb3VuZCBpbiBzdG9yZWApO1xyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0Nvbm5lY3Rpb24gbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgcXVlcnkgZm9yIFNRTCBpbmplY3Rpb25cclxuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVRdWVyeShxdWVyeSk7XHJcbiAgICAgICAgaWYgKCF2YWxpZGF0aW9uLnNhZmUpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oYFVuc2FmZSBxdWVyeSBibG9ja2VkOiAke3ZhbGlkYXRpb24ucmVhc29ufWAsIHZhbGlkYXRpb24ucGF0dGVybnMpO1xyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICdVbnNhZmUgcXVlcnkgZGV0ZWN0ZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogdmFsaWRhdGlvbi5yZWFzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybnM6IHZhbGlkYXRpb24ucGF0dGVybnMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiByZWFkLW9ubHkgY29ubmVjdGlvbiBhbGxvd3MgdGhpcyBxdWVyeVxyXG4gICAgICAgIGlmIChjb25uZWN0aW9uSW5mby5yZWFkT25seSAmJiAhaXNSZWFkT25seVF1ZXJ5KHF1ZXJ5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7IGVycm9yOiAnV3JpdGUgb3BlcmF0aW9ucyBub3QgYWxsb3dlZCBvbiByZWFkLW9ubHkgY29ubmVjdGlvbicgfSxcclxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA0MDMgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IGFkYXB0ZXIgaW5zdGFuY2VcclxuICAgICAgICBsZXQgYWRhcHRlcjtcclxuICAgICAgICBsZXQgYWRhcHRlckNvbm5lY3Rpb25JZDtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gVXNlIHNoYXJlZCBoZWxwZXIgdG8gZ2V0IGNvbm5lY3RlZCBhZGFwdGVyXHJcbiAgICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyBjb25zaXN0ZW50IGNvbm5lY3Rpb24gc3RhdGUgYWNyb3NzIGFsbCBBUEkgcm91dGVzXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGltcG9ydCgnQC9saWIvZGItdXRpbHMnKS50aGVuKG0gPT4gbS5nZXRDb25uZWN0ZWRBZGFwdGVyKGNvbm5lY3Rpb25JZCkpO1xyXG4gICAgICAgICAgICBhZGFwdGVyID0gcmVzdWx0LmFkYXB0ZXI7XHJcbiAgICAgICAgICAgIGFkYXB0ZXJDb25uZWN0aW9uSWQgPSByZXN1bHQuYWRhcHRlckNvbm5lY3Rpb25JZDtcclxuICAgICAgICB9IGNhdGNoIChjb25uRXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBjb25uZWN0IHRvIGRhdGFiYXNlOiAke2Nvbm5FcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7IGVycm9yOiBgRmFpbGVkIHRvIGNvbm5lY3QgdG8gZGF0YWJhc2U6ICR7Y29ubkVycm9yLm1lc3NhZ2V9YCB9LFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB1c2VyRW1haWwgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LXVzZXItZW1haWwnKTtcclxuXHJcbiAgICAgICAgLy8gRXhlY3V0ZSBxdWVyeVxyXG4gICAgICAgIGNvbnN0IHF1ZXJ5UmVxdWVzdDogUXVlcnlSZXF1ZXN0ID0ge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uSWQ6IGFkYXB0ZXJDb25uZWN0aW9uSWQsXHJcbiAgICAgICAgICAgIHF1ZXJ5LFxyXG4gICAgICAgICAgICB0aW1lb3V0OiB0aW1lb3V0IHx8IDMwMDAwLFxyXG4gICAgICAgICAgICBtYXhSb3dzOiBtYXhSb3dzIHx8IDEwMDAsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWRhcHRlci5leGVjdXRlUXVlcnkocXVlcnlSZXF1ZXN0KTtcclxuXHJcbiAgICAgICAgbG9nZ2VyLmluZm8oXHJcbiAgICAgICAgICAgIGBRdWVyeSBleGVjdXRlZDogJHtxdWVyeS5zdWJzdHJpbmcoMCwgNTApfS4uLiAoJHtyZXN1bHQuZXhlY3V0aW9uVGltZX1tcywgJHtyZXN1bHQucm93Q291bnR9IHJvd3MpYFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0byBxdWVyeSBoaXN0b3J5XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYWRkUXVlcnlUb0hpc3Rvcnkoe1xyXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbk5hbWU6IGNvbm5lY3Rpb25JbmZvLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBxdWVyeSxcclxuICAgICAgICAgICAgICAgIGV4ZWN1dGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIGV4ZWN1dGlvblRpbWU6IHJlc3VsdC5leGVjdXRpb25UaW1lLFxyXG4gICAgICAgICAgICAgICAgcm93Q291bnQ6IHJlc3VsdC5yb3dDb3VudCxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB1c2VyRW1haWw6IHVzZXJFbWFpbCB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGhpc3RvcnlFcnJvcikge1xyXG4gICAgICAgICAgICAvLyBEb24ndCBmYWlsIHF1ZXJ5IGlmIGhpc3RvcnkgZmFpbHNcclxuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBxdWVyeSBoaXN0b3J5JywgaGlzdG9yeUVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIC4uLnJlc3VsdCxcclxuICAgICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICBsb2dnZXIuZXJyb3IoJ1F1ZXJ5IGV4ZWN1dGlvbiBmYWlsZWQnLCBlcnJvcik7XHJcblxyXG4gICAgICAgIC8vIEFkZCBmYWlsZWQgcXVlcnkgdG8gaGlzdG9yeSAod2l0aCBzYWZlIGFjY2VzcylcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBib2R5IGlzIGFscmVhZHkgcGFyc2VkIGF0IHRoZSB0b3Agb2YgUE9TVFxyXG4gICAgICAgICAgICBjb25zdCBjb25uSW5mbyA9IGF3YWl0IGdldENvbm5lY3Rpb24oYm9keS5jb25uZWN0aW9uSWQpO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyRW1haWwgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LXVzZXItZW1haWwnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb25uSW5mbykge1xyXG4gICAgICAgICAgICAgICAgYWRkUXVlcnlUb0hpc3Rvcnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25JZDogYm9keS5jb25uZWN0aW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbk5hbWU6IGNvbm5JbmZvLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGJvZHkucXVlcnksXHJcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGlvblRpbWU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgcm93Q291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiB1c2VyRW1haWwgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChoaXN0b3J5RXJyb3IpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBmYWlsZWQgcXVlcnkgdG8gaGlzdG9yeScsIGhpc3RvcnlFcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFeHRyYWN0IHRoZSBhY3R1YWwgZGF0YWJhc2UgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG5cclxuICAgICAgICAvLyBJZiBlcnJvciBtZXNzYWdlIGNvbnRhaW5zIFwiUXVlcnkgZXhlY3V0aW9uIGZhaWxlZDogXCIsIGV4dHJhY3QganVzdCB0aGUgREIgZXJyb3JcclxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdRdWVyeSBleGVjdXRpb24gZmFpbGVkOiAnKSkge1xyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvck1lc3NhZ2UucmVwbGFjZSgnUXVlcnkgZXhlY3V0aW9uIGZhaWxlZDogJywgJycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLCAvLyBTaG93IGFjdHVhbCBkYXRhYmFzZSBlcnJvclxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInZhbGlkYXRlUXVlcnkiLCJpc1JlYWRPbmx5UXVlcnkiLCJMb2dnZXIiLCJjb25uZWN0aW9ucyIsImdldENvbm5lY3Rpb24iLCJhZGRRdWVyeVRvSGlzdG9yeSIsImxvZ2dlciIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJjb25uZWN0aW9uSWQiLCJxdWVyeSIsInRpbWVvdXQiLCJtYXhSb3dzIiwiZXJyb3IiLCJzdGF0dXMiLCJpbmZvIiwiQXJyYXkiLCJmcm9tIiwia2V5cyIsImpvaW4iLCJzaXplIiwiY29ubmVjdGlvbkluZm8iLCJ2YWxpZGF0aW9uIiwic2FmZSIsIndhcm4iLCJyZWFzb24iLCJwYXR0ZXJucyIsInJlYWRPbmx5IiwiYWRhcHRlciIsImFkYXB0ZXJDb25uZWN0aW9uSWQiLCJyZXN1bHQiLCJ0aGVuIiwibSIsImdldENvbm5lY3RlZEFkYXB0ZXIiLCJjb25uRXJyb3IiLCJtZXNzYWdlIiwidXNlckVtYWlsIiwiaGVhZGVycyIsImdldCIsInF1ZXJ5UmVxdWVzdCIsImV4ZWN1dGVRdWVyeSIsInN1YnN0cmluZyIsImV4ZWN1dGlvblRpbWUiLCJyb3dDb3VudCIsImNvbm5lY3Rpb25OYW1lIiwibmFtZSIsImV4ZWN1dGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzdWNjZXNzIiwidW5kZWZpbmVkIiwiaGlzdG9yeUVycm9yIiwiY29ubkluZm8iLCJlcnJvck1lc3NhZ2UiLCJpbmNsdWRlcyIsInJlcGxhY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/query/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/queryStore.ts":
/*!*******************************!*\
  !*** ./src/lib/queryStore.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addQueryToHistory: () => (/* binding */ addQueryToHistory),\n/* harmony export */   clearQueryHistory: () => (/* binding */ clearQueryHistory),\n/* harmony export */   createSavedQuery: () => (/* binding */ createSavedQuery),\n/* harmony export */   deleteSavedQuery: () => (/* binding */ deleteSavedQuery),\n/* harmony export */   getQueryHistory: () => (/* binding */ getQueryHistory),\n/* harmony export */   getSavedQueries: () => (/* binding */ getSavedQueries),\n/* harmony export */   getUserQueryHistory: () => (/* binding */ getUserQueryHistory),\n/* harmony export */   getUserSavedQueries: () => (/* binding */ getUserSavedQueries),\n/* harmony export */   loadQueryHistory: () => (/* binding */ loadQueryHistory),\n/* harmony export */   loadSavedQueries: () => (/* binding */ loadSavedQueries),\n/* harmony export */   saveQueryHistory: () => (/* binding */ saveQueryHistory),\n/* harmony export */   saveSavedQueries: () => (/* binding */ saveSavedQueries),\n/* harmony export */   updateSavedQuery: () => (/* binding */ updateSavedQuery)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst HISTORY_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \".bosdb-query-history.json\");\nconst SAVED_QUERIES_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \".bosdb-saved-queries.json\");\n// Query History Management\nlet queryHistory = null;\nfunction loadQueryHistory() {\n    if (queryHistory !== null) {\n        return queryHistory;\n    }\n    queryHistory = []; //  Initialize to avoid null\n    try {\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(HISTORY_FILE)) {\n            const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(HISTORY_FILE, \"utf-8\");\n            const parsed = JSON.parse(data);\n            queryHistory = parsed;\n            console.log(`[QueryHistory] Loaded ${parsed.length} entries`);\n        }\n    } catch (error) {\n        console.error(\"[QueryHistory] Failed to load:\", error);\n    }\n    return queryHistory;\n}\nfunction saveQueryHistory() {\n    const history = loadQueryHistory();\n    try {\n        // Keep only last 100 queries\n        const recentHistory = history.slice(-100);\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(HISTORY_FILE, JSON.stringify(recentHistory, null, 2));\n        console.log(`[QueryHistory] Saved ${recentHistory.length} entries`);\n    } catch (error) {\n        console.error(\"[QueryHistory] Failed to save:\", error);\n    }\n}\nfunction addQueryToHistory(entry) {\n    const history = loadQueryHistory();\n    const historyEntry = {\n        ...entry,\n        id: `history_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n    };\n    history.push(historyEntry);\n    saveQueryHistory();\n    return historyEntry;\n}\nfunction getQueryHistory(connectionId, limit = 50) {\n    const history = loadQueryHistory();\n    let filtered = history;\n    if (connectionId) {\n        filtered = history.filter((entry)=>entry.connectionId === connectionId);\n    }\n    // Return most recent first\n    return filtered.slice(-limit).reverse();\n}\nfunction getUserQueryHistory(userEmail, connectionId, limit = 50) {\n    const history = loadQueryHistory();\n    let filtered = history.filter((entry)=>entry.userEmail === userEmail);\n    if (connectionId) {\n        filtered = filtered.filter((entry)=>entry.connectionId === connectionId);\n    }\n    // Return most recent first\n    return filtered.slice(-limit).reverse();\n}\nfunction clearQueryHistory(connectionId, userEmail) {\n    const history = loadQueryHistory();\n    if (userEmail) {\n        // Remove only entries for this user\n        if (connectionId) {\n            queryHistory = history.filter((entry)=>!(entry.userEmail === userEmail && entry.connectionId === connectionId));\n        } else {\n            queryHistory = history.filter((entry)=>entry.userEmail !== userEmail);\n        }\n    } else {\n        // Legacy/Admin behavior (clear all or by connection)\n        if (connectionId) {\n            queryHistory = history.filter((entry)=>entry.connectionId !== connectionId);\n        } else {\n            queryHistory = [];\n        }\n    }\n    saveQueryHistory();\n}\n// Saved Queries Management\nlet savedQueries = null;\nfunction loadSavedQueries() {\n    if (savedQueries !== null) {\n        return savedQueries;\n    }\n    savedQueries = []; // Initialize to avoid null\n    try {\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(SAVED_QUERIES_FILE)) {\n            const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(SAVED_QUERIES_FILE, \"utf-8\");\n            const parsed = JSON.parse(data);\n            savedQueries = parsed;\n            console.log(`[SavedQueries] Loaded ${parsed.length} queries`);\n        }\n    } catch (error) {\n        console.error(\"[SavedQueries] Failed to load:\", error);\n    }\n    return savedQueries;\n}\nfunction saveSavedQueries() {\n    const queries = loadSavedQueries();\n    try {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(SAVED_QUERIES_FILE, JSON.stringify(queries, null, 2));\n        console.log(`[SavedQueries] Saved ${queries.length} queries`);\n    } catch (error) {\n        console.error(\"[SavedQueries] Failed to save:\", error);\n    }\n}\nfunction createSavedQuery(query) {\n    const queries = loadSavedQueries();\n    const now = new Date().toISOString();\n    const savedQuery = {\n        ...query,\n        id: `saved_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        createdAt: now,\n        updatedAt: now\n    };\n    queries.push(savedQuery);\n    saveSavedQueries();\n    return savedQuery;\n}\nfunction getSavedQueries(connectionId) {\n    const queries = loadSavedQueries();\n    if (connectionId) {\n        return queries.filter((q)=>!q.connectionId || q.connectionId === connectionId);\n    }\n    return queries;\n}\nfunction getUserSavedQueries(userEmail, connectionId) {\n    const queries = loadSavedQueries();\n    let filtered = queries.filter((q)=>q.userEmail === userEmail);\n    if (connectionId) {\n        filtered = filtered.filter((q)=>!q.connectionId || q.connectionId === connectionId);\n    }\n    return filtered;\n}\nfunction updateSavedQuery(id, updates) {\n    const queries = loadSavedQueries();\n    const index = queries.findIndex((q)=>q.id === id);\n    if (index === -1) return null;\n    queries[index] = {\n        ...queries[index],\n        ...updates,\n        updatedAt: new Date().toISOString()\n    };\n    saveSavedQueries();\n    return queries[index];\n}\nfunction deleteSavedQuery(id) {\n    const queries = loadSavedQueries();\n    const initialLength = queries.length;\n    savedQueries = queries.filter((q)=>q.id !== id);\n    if (savedQueries.length < initialLength) {\n        saveSavedQueries();\n        return true;\n    }\n    return false;\n} // NO automatic initialization - data loads only when functions are called\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLElBQUl6QixPQUFPc0IsV0FBVztJQUNyQztJQUVBSjtJQUNBLE9BQU9DLE9BQU8sQ0FBQ1ksTUFBTTtBQUN6QjtBQUVPLFNBQVNFLGlCQUFpQmxDLEVBQVU7SUFDdkMsTUFBTW9CLFVBQVVGO0lBQ2hCLE1BQU1pQixnQkFBZ0JmLFFBQVEvQixNQUFNO0lBQ3BDNEIsZUFBZUcsUUFBUVIsTUFBTSxDQUFDZ0IsQ0FBQUEsSUFBS0EsRUFBRTVCLEVBQUUsS0FBS0E7SUFFNUMsSUFBSWlCLGFBQWE1QixNQUFNLEdBQUc4QyxlQUFlO1FBQ3JDaEI7UUFDQSxPQUFPO0lBQ1g7SUFFQSxPQUFPO0FBQ1gsRUFFQSwwRUFBMEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYm9zZGIvd2ViLy4vc3JjL2xpYi9xdWVyeVN0b3JlLnRzPzIwOGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5jb25zdCBISVNUT1JZX0ZJTEUgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJy5ib3NkYi1xdWVyeS1oaXN0b3J5Lmpzb24nKTtcbmNvbnN0IFNBVkVEX1FVRVJJRVNfRklMRSA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnLmJvc2RiLXNhdmVkLXF1ZXJpZXMuanNvbicpO1xuXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5SGlzdG9yeUVudHJ5IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGNvbm5lY3Rpb25JZDogc3RyaW5nO1xuICAgIGNvbm5lY3Rpb25OYW1lOiBzdHJpbmc7XG4gICAgcXVlcnk6IHN0cmluZztcbiAgICBleGVjdXRlZEF0OiBzdHJpbmc7XG4gICAgZXhlY3V0aW9uVGltZTogbnVtYmVyO1xuICAgIHJvd0NvdW50OiBudW1iZXI7XG4gICAgc3VjY2VzczogYm9vbGVhbjtcbiAgICBlcnJvcj86IHN0cmluZztcbiAgICB1c2VyRW1haWw/OiBzdHJpbmc7IC8vIE9QVElPTkFMOiBVc2VyIHdobyBleGVjdXRlZCB0aGUgcXVlcnlcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTYXZlZFF1ZXJ5IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICBxdWVyeTogc3RyaW5nO1xuICAgIGNvbm5lY3Rpb25JZD86IHN0cmluZztcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgICB1cGRhdGVkQXQ6IHN0cmluZztcbiAgICB1c2VyRW1haWw/OiBzdHJpbmc7IC8vIE9QVElPTkFMOiBVc2VyIHdobyBjcmVhdGVkIHRoZSBxdWVyeVxufVxuXG4vLyBRdWVyeSBIaXN0b3J5IE1hbmFnZW1lbnRcbmxldCBxdWVyeUhpc3Rvcnk6IFF1ZXJ5SGlzdG9yeUVudHJ5W10gfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRRdWVyeUhpc3RvcnkoKTogUXVlcnlIaXN0b3J5RW50cnlbXSB7XG4gICAgaWYgKHF1ZXJ5SGlzdG9yeSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcXVlcnlIaXN0b3J5O1xuICAgIH1cblxuICAgIHF1ZXJ5SGlzdG9yeSA9IFtdOyAvLyAgSW5pdGlhbGl6ZSB0byBhdm9pZCBudWxsXG5cbiAgICB0cnkge1xuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhISVNUT1JZX0ZJTEUpKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKEhJU1RPUllfRklMRSwgJ3V0Zi04Jyk7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQ6IFF1ZXJ5SGlzdG9yeUVudHJ5W10gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgcXVlcnlIaXN0b3J5ID0gcGFyc2VkO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFtRdWVyeUhpc3RvcnldIExvYWRlZCAke3BhcnNlZC5sZW5ndGh9IGVudHJpZXNgKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tRdWVyeUhpc3RvcnldIEZhaWxlZCB0byBsb2FkOicsIGVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5SGlzdG9yeTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVRdWVyeUhpc3RvcnkoKSB7XG4gICAgY29uc3QgaGlzdG9yeSA9IGxvYWRRdWVyeUhpc3RvcnkoKTtcbiAgICB0cnkge1xuICAgICAgICAvLyBLZWVwIG9ubHkgbGFzdCAxMDAgcXVlcmllc1xuICAgICAgICBjb25zdCByZWNlbnRIaXN0b3J5ID0gaGlzdG9yeS5zbGljZSgtMTAwKTtcbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyhISVNUT1JZX0ZJTEUsIEpTT04uc3RyaW5naWZ5KHJlY2VudEhpc3RvcnksIG51bGwsIDIpKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtRdWVyeUhpc3RvcnldIFNhdmVkICR7cmVjZW50SGlzdG9yeS5sZW5ndGh9IGVudHJpZXNgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbUXVlcnlIaXN0b3J5XSBGYWlsZWQgdG8gc2F2ZTonLCBlcnJvcik7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkUXVlcnlUb0hpc3RvcnkoZW50cnk6IE9taXQ8UXVlcnlIaXN0b3J5RW50cnksICdpZCc+KSB7XG4gICAgY29uc3QgaGlzdG9yeSA9IGxvYWRRdWVyeUhpc3RvcnkoKTtcbiAgICBjb25zdCBoaXN0b3J5RW50cnk6IFF1ZXJ5SGlzdG9yeUVudHJ5ID0ge1xuICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgaWQ6IGBoaXN0b3J5XyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcbiAgICB9O1xuICAgIGhpc3RvcnkucHVzaChoaXN0b3J5RW50cnkpO1xuICAgIHNhdmVRdWVyeUhpc3RvcnkoKTtcbiAgICByZXR1cm4gaGlzdG9yeUVudHJ5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXVlcnlIaXN0b3J5KGNvbm5lY3Rpb25JZD86IHN0cmluZywgbGltaXQgPSA1MCk6IFF1ZXJ5SGlzdG9yeUVudHJ5W10ge1xuICAgIGNvbnN0IGhpc3RvcnkgPSBsb2FkUXVlcnlIaXN0b3J5KCk7XG5cbiAgICBsZXQgZmlsdGVyZWQgPSBoaXN0b3J5O1xuICAgIGlmIChjb25uZWN0aW9uSWQpIHtcbiAgICAgICAgZmlsdGVyZWQgPSBoaXN0b3J5LmZpbHRlcihlbnRyeSA9PiBlbnRyeS5jb25uZWN0aW9uSWQgPT09IGNvbm5lY3Rpb25JZCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIG1vc3QgcmVjZW50IGZpcnN0XG4gICAgcmV0dXJuIGZpbHRlcmVkLnNsaWNlKC1saW1pdCkucmV2ZXJzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlclF1ZXJ5SGlzdG9yeSh1c2VyRW1haWw6IHN0cmluZywgY29ubmVjdGlvbklkPzogc3RyaW5nLCBsaW1pdCA9IDUwKTogUXVlcnlIaXN0b3J5RW50cnlbXSB7XG4gICAgY29uc3QgaGlzdG9yeSA9IGxvYWRRdWVyeUhpc3RvcnkoKTtcblxuICAgIGxldCBmaWx0ZXJlZCA9IGhpc3RvcnkuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LnVzZXJFbWFpbCA9PT0gdXNlckVtYWlsKTtcbiAgICBpZiAoY29ubmVjdGlvbklkKSB7XG4gICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmNvbm5lY3Rpb25JZCA9PT0gY29ubmVjdGlvbklkKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gbW9zdCByZWNlbnQgZmlyc3RcbiAgICByZXR1cm4gZmlsdGVyZWQuc2xpY2UoLWxpbWl0KS5yZXZlcnNlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclF1ZXJ5SGlzdG9yeShjb25uZWN0aW9uSWQ/OiBzdHJpbmcsIHVzZXJFbWFpbD86IHN0cmluZykge1xuICAgIGNvbnN0IGhpc3RvcnkgPSBsb2FkUXVlcnlIaXN0b3J5KCk7XG4gICAgaWYgKHVzZXJFbWFpbCkge1xuICAgICAgICAvLyBSZW1vdmUgb25seSBlbnRyaWVzIGZvciB0aGlzIHVzZXJcbiAgICAgICAgaWYgKGNvbm5lY3Rpb25JZCkge1xuICAgICAgICAgICAgcXVlcnlIaXN0b3J5ID0gaGlzdG9yeS5maWx0ZXIoZW50cnkgPT5cbiAgICAgICAgICAgICAgICAhKGVudHJ5LnVzZXJFbWFpbCA9PT0gdXNlckVtYWlsICYmIGVudHJ5LmNvbm5lY3Rpb25JZCA9PT0gY29ubmVjdGlvbklkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXJ5SGlzdG9yeSA9IGhpc3RvcnkuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LnVzZXJFbWFpbCAhPT0gdXNlckVtYWlsKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIExlZ2FjeS9BZG1pbiBiZWhhdmlvciAoY2xlYXIgYWxsIG9yIGJ5IGNvbm5lY3Rpb24pXG4gICAgICAgIGlmIChjb25uZWN0aW9uSWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5SGlzdG9yeSA9IGhpc3RvcnkuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmNvbm5lY3Rpb25JZCAhPT0gY29ubmVjdGlvbklkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXJ5SGlzdG9yeSA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNhdmVRdWVyeUhpc3RvcnkoKTtcbn1cblxuLy8gU2F2ZWQgUXVlcmllcyBNYW5hZ2VtZW50XG5sZXQgc2F2ZWRRdWVyaWVzOiBTYXZlZFF1ZXJ5W10gfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRTYXZlZFF1ZXJpZXMoKTogU2F2ZWRRdWVyeVtdIHtcbiAgICBpZiAoc2F2ZWRRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBzYXZlZFF1ZXJpZXM7XG4gICAgfVxuXG4gICAgc2F2ZWRRdWVyaWVzID0gW107IC8vIEluaXRpYWxpemUgdG8gYXZvaWQgbnVsbFxuXG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoU0FWRURfUVVFUklFU19GSUxFKSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhTQVZFRF9RVUVSSUVTX0ZJTEUsICd1dGYtOCcpO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkOiBTYXZlZFF1ZXJ5W10gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgc2F2ZWRRdWVyaWVzID0gcGFyc2VkO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFtTYXZlZFF1ZXJpZXNdIExvYWRlZCAke3BhcnNlZC5sZW5ndGh9IHF1ZXJpZXNgKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTYXZlZFF1ZXJpZXNdIEZhaWxlZCB0byBsb2FkOicsIGVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIHNhdmVkUXVlcmllcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVTYXZlZFF1ZXJpZXMoKSB7XG4gICAgY29uc3QgcXVlcmllcyA9IGxvYWRTYXZlZFF1ZXJpZXMoKTtcbiAgICB0cnkge1xuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKFNBVkVEX1FVRVJJRVNfRklMRSwgSlNPTi5zdHJpbmdpZnkocXVlcmllcywgbnVsbCwgMikpO1xuICAgICAgICBjb25zb2xlLmxvZyhgW1NhdmVkUXVlcmllc10gU2F2ZWQgJHtxdWVyaWVzLmxlbmd0aH0gcXVlcmllc2ApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTYXZlZFF1ZXJpZXNdIEZhaWxlZCB0byBzYXZlOicsIGVycm9yKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTYXZlZFF1ZXJ5KHF1ZXJ5OiBPbWl0PFNhdmVkUXVlcnksICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IFNhdmVkUXVlcnkge1xuICAgIGNvbnN0IHF1ZXJpZXMgPSBsb2FkU2F2ZWRRdWVyaWVzKCk7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIGNvbnN0IHNhdmVkUXVlcnk6IFNhdmVkUXVlcnkgPSB7XG4gICAgICAgIC4uLnF1ZXJ5LFxuICAgICAgICBpZDogYHNhdmVkXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcbiAgICAgICAgY3JlYXRlZEF0OiBub3csXG4gICAgICAgIHVwZGF0ZWRBdDogbm93LFxuICAgIH07XG5cbiAgICBxdWVyaWVzLnB1c2goc2F2ZWRRdWVyeSk7XG4gICAgc2F2ZVNhdmVkUXVlcmllcygpO1xuICAgIHJldHVybiBzYXZlZFF1ZXJ5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2F2ZWRRdWVyaWVzKGNvbm5lY3Rpb25JZD86IHN0cmluZyk6IFNhdmVkUXVlcnlbXSB7XG4gICAgY29uc3QgcXVlcmllcyA9IGxvYWRTYXZlZFF1ZXJpZXMoKTtcblxuICAgIGlmIChjb25uZWN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuIHF1ZXJpZXMuZmlsdGVyKHEgPT4gIXEuY29ubmVjdGlvbklkIHx8IHEuY29ubmVjdGlvbklkID09PSBjb25uZWN0aW9uSWQpO1xuICAgIH1cblxuICAgIHJldHVybiBxdWVyaWVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlclNhdmVkUXVlcmllcyh1c2VyRW1haWw6IHN0cmluZywgY29ubmVjdGlvbklkPzogc3RyaW5nKTogU2F2ZWRRdWVyeVtdIHtcbiAgICBjb25zdCBxdWVyaWVzID0gbG9hZFNhdmVkUXVlcmllcygpO1xuXG4gICAgbGV0IGZpbHRlcmVkID0gcXVlcmllcy5maWx0ZXIocSA9PiBxLnVzZXJFbWFpbCA9PT0gdXNlckVtYWlsKTtcbiAgICBpZiAoY29ubmVjdGlvbklkKSB7XG4gICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKHEgPT4gIXEuY29ubmVjdGlvbklkIHx8IHEuY29ubmVjdGlvbklkID09PSBjb25uZWN0aW9uSWQpO1xuICAgIH1cblxuICAgIHJldHVybiBmaWx0ZXJlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVNhdmVkUXVlcnkoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxPbWl0PFNhdmVkUXVlcnksICdpZCcgfCAnY3JlYXRlZEF0Jz4+KTogU2F2ZWRRdWVyeSB8IG51bGwge1xuICAgIGNvbnN0IHF1ZXJpZXMgPSBsb2FkU2F2ZWRRdWVyaWVzKCk7XG4gICAgY29uc3QgaW5kZXggPSBxdWVyaWVzLmZpbmRJbmRleChxID0+IHEuaWQgPT09IGlkKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gbnVsbDtcblxuICAgIHF1ZXJpZXNbaW5kZXhdID0ge1xuICAgICAgICAuLi5xdWVyaWVzW2luZGV4XSxcbiAgICAgICAgLi4udXBkYXRlcyxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfTtcblxuICAgIHNhdmVTYXZlZFF1ZXJpZXMoKTtcbiAgICByZXR1cm4gcXVlcmllc1tpbmRleF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVTYXZlZFF1ZXJ5KGlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBxdWVyaWVzID0gbG9hZFNhdmVkUXVlcmllcygpO1xuICAgIGNvbnN0IGluaXRpYWxMZW5ndGggPSBxdWVyaWVzLmxlbmd0aDtcbiAgICBzYXZlZFF1ZXJpZXMgPSBxdWVyaWVzLmZpbHRlcihxID0+IHEuaWQgIT09IGlkKTtcblxuICAgIGlmIChzYXZlZFF1ZXJpZXMubGVuZ3RoIDwgaW5pdGlhbExlbmd0aCkge1xuICAgICAgICBzYXZlU2F2ZWRRdWVyaWVzKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gTk8gYXV0b21hdGljIGluaXRpYWxpemF0aW9uIC0gZGF0YSBsb2FkcyBvbmx5IHdoZW4gZnVuY3Rpb25zIGFyZSBjYWxsZWRcbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJISVNUT1JZX0ZJTEUiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsIlNBVkVEX1FVRVJJRVNfRklMRSIsInF1ZXJ5SGlzdG9yeSIsImxvYWRRdWVyeUhpc3RvcnkiLCJleGlzdHNTeW5jIiwiZGF0YSIsInJlYWRGaWxlU3luYyIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJlcnJvciIsInNhdmVRdWVyeUhpc3RvcnkiLCJoaXN0b3J5IiwicmVjZW50SGlzdG9yeSIsInNsaWNlIiwid3JpdGVGaWxlU3luYyIsInN0cmluZ2lmeSIsImFkZFF1ZXJ5VG9IaXN0b3J5IiwiZW50cnkiLCJoaXN0b3J5RW50cnkiLCJpZCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJwdXNoIiwiZ2V0UXVlcnlIaXN0b3J5IiwiY29ubmVjdGlvbklkIiwibGltaXQiLCJmaWx0ZXJlZCIsImZpbHRlciIsInJldmVyc2UiLCJnZXRVc2VyUXVlcnlIaXN0b3J5IiwidXNlckVtYWlsIiwiY2xlYXJRdWVyeUhpc3RvcnkiLCJzYXZlZFF1ZXJpZXMiLCJsb2FkU2F2ZWRRdWVyaWVzIiwic2F2ZVNhdmVkUXVlcmllcyIsInF1ZXJpZXMiLCJjcmVhdGVTYXZlZFF1ZXJ5IiwicXVlcnkiLCJ0b0lTT1N0cmluZyIsInNhdmVkUXVlcnkiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJnZXRTYXZlZFF1ZXJpZXMiLCJxIiwiZ2V0VXNlclNhdmVkUXVlcmllcyIsInVwZGF0ZVNhdmVkUXVlcnkiLCJ1cGRhdGVzIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJkZWxldGVTYXZlZFF1ZXJ5IiwiaW5pdGlhbExlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/queryStore.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/store.ts":
/*!**************************!*\
  !*** ./src/lib/store.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adapterInstances: () => (/* binding */ adapterInstances),\n/* harmony export */   clearOrgCache: () => (/* binding */ clearOrgCache),\n/* harmony export */   connections: () => (/* binding */ connections),\n/* harmony export */   getAdapterInstances: () => (/* binding */ getAdapterInstances),\n/* harmony export */   getAdapterInstancesByOrg: () => (/* binding */ getAdapterInstancesByOrg),\n/* harmony export */   getConnection: () => (/* binding */ getConnection),\n/* harmony export */   getConnections: () => (/* binding */ getConnections),\n/* harmony export */   getConnectionsByOrg: () => (/* binding */ getConnectionsByOrg),\n/* harmony export */   saveConnections: () => (/* binding */ saveConnections),\n/* harmony export */   saveConnectionsByOrg: () => (/* binding */ saveConnectionsByOrg)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n// Shared in-memory storage for connections and adapters\n// With organization-scoped file-based persistence\n\n\nconst DATA_DIR_NAME = \".bosdb-data\";\nconst LEGACY_STORAGE_FILE_NAME = \".bosdb-connections.json\";\n// Find project root (contains package.json)\n// Find monorepo root (contains package.json and apps directory)\nfunction findProjectRoot(current) {\n    let dir = current;\n    // Walk up until we find a directory with package.json and an 'apps' folder (monorepo root)\n    // or we hit the disk root\n    while(dir !== path__WEBPACK_IMPORTED_MODULE_1___default().parse(dir).root){\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(path__WEBPACK_IMPORTED_MODULE_1___default().join(dir, \"package.json\")) && fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(path__WEBPACK_IMPORTED_MODULE_1___default().join(dir, \"apps\"))) {\n            return dir;\n        }\n        dir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(dir);\n    }\n    return current; // Fallback to current\n}\nconst PROJECT_ROOT = findProjectRoot(process.cwd());\nconst DATA_DIR = path__WEBPACK_IMPORTED_MODULE_1___default().join(PROJECT_ROOT, DATA_DIR_NAME);\nconst ORGS_DIR = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, \"orgs\");\nconsole.log(`[Store] Initialized with Project Root: ${PROJECT_ROOT}`);\nconst LEGACY_STORAGE_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(PROJECT_ROOT, LEGACY_STORAGE_FILE_NAME);\nfunction getOrgDataDir(orgId) {\n    const orgDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(ORGS_DIR, orgId);\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(orgDir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(orgDir, {\n            recursive: true\n        });\n    }\n    return orgDir;\n}\n// Get organization-specific connections file path\nfunction getConnectionsFilePath(orgId) {\n    const orgDir = getOrgDataDir(orgId);\n    return path__WEBPACK_IMPORTED_MODULE_1___default().join(orgDir, \"connections.json\");\n}\n// Load connections for a specific organization\nfunction loadConnectionsByOrg(orgId) {\n    try {\n        const filePath = getConnectionsFilePath(orgId);\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n            const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf-8\");\n            const parsed = JSON.parse(data);\n            console.log(`[Store] Loaded ${Object.keys(parsed).length} connections for org ${orgId}`);\n            return new Map(Object.entries(parsed));\n        }\n    } catch (error) {\n        console.error(`[Store] Failed to load connections for org ${orgId}:`, error);\n    }\n    return new Map();\n}\n// Load connections from legacy file (for backward compatibility)\nfunction loadLegacyConnections() {\n    try {\n        // Migration: If root file doesn't exist, try to find it in common subdirectories and copy it over\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(LEGACY_STORAGE_FILE)) {\n            const possibleLocations = [\n                path__WEBPACK_IMPORTED_MODULE_1___default().join(PROJECT_ROOT, \"apps\", \"web\", LEGACY_STORAGE_FILE_NAME),\n                path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), LEGACY_STORAGE_FILE_NAME),\n                path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"apps\", \"web\", LEGACY_STORAGE_FILE_NAME)\n            ];\n            for (const loc of possibleLocations){\n                if (loc !== LEGACY_STORAGE_FILE && fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(loc)) {\n                    console.log(`[Store] Migrating legacy connections from ${loc} to ${LEGACY_STORAGE_FILE}`);\n                    try {\n                        const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(loc, \"utf-8\");\n                        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(LEGACY_STORAGE_FILE, data);\n                        break;\n                    } catch (e) {\n                        console.error(`[Store] Migration from ${loc} failed:`, e);\n                    }\n                }\n            }\n        }\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(LEGACY_STORAGE_FILE)) {\n            const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(LEGACY_STORAGE_FILE, \"utf-8\");\n            const parsed = JSON.parse(data);\n            console.log(`[Store] Loaded ${Object.keys(parsed).length} connections from legacy file at ${LEGACY_STORAGE_FILE}`);\n            return new Map(Object.entries(parsed));\n        }\n    } catch (error) {\n        console.error(\"[Store] Failed to load legacy connections:\", error);\n    }\n    return new Map();\n}\n// Save connections for a specific organization\nfunction saveConnectionsByOrg(orgId, connections) {\n    try {\n        const filePath = getConnectionsFilePath(orgId);\n        const obj = Object.fromEntries(connections);\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(obj, null, 2));\n        console.log(`[Store] Saved ${connections.size} connections for org ${orgId}`);\n    } catch (error) {\n        console.error(`[Store] Failed to save connections for org ${orgId}:`, error);\n    }\n}\n// Save connections to legacy file (for backward compatibility)\nfunction saveConnections() {\n    try {\n        const obj = Object.fromEntries(getConnections());\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(LEGACY_STORAGE_FILE, JSON.stringify(obj, null, 2));\n        console.log(`[Store] Saved ${getConnections().size} connections to legacy file`);\n    } catch (error) {\n        console.error(\"[Store] Failed to save connections:\", error);\n    }\n}\n// Organization-scoped connection and adapter caches\nconst _orgConnections = new Map();\nconst _orgAdapterInstances = new Map();\n// Legacy single map (loads from legacy file)\nlet _legacyConnections = null;\nlet _legacyAdapterInstances = null;\n// Get connections for a specific organization\nfunction getConnectionsByOrg(orgId) {\n    if (!_orgConnections.has(orgId)) {\n        _orgConnections.set(orgId, loadConnectionsByOrg(orgId));\n    }\n    return _orgConnections.get(orgId);\n}\n// Get adapter instances for a specific organization\nfunction getAdapterInstancesByOrg(orgId) {\n    if (!_orgAdapterInstances.has(orgId)) {\n        _orgAdapterInstances.set(orgId, new Map());\n    }\n    return _orgAdapterInstances.get(orgId);\n}\n// Legacy: Get all connections (from legacy file)\nfunction getConnections() {\n    if (!_legacyConnections) {\n        _legacyConnections = loadLegacyConnections();\n    }\n    return _legacyConnections;\n}\n// Legacy: Get all adapter instances\nfunction getAdapterInstances() {\n    if (!_legacyAdapterInstances) {\n        _legacyAdapterInstances = new Map();\n    }\n    return _legacyAdapterInstances;\n}\n// Clear organization cache (for refresh)\nfunction clearOrgCache(orgId) {\n    _orgConnections.delete(orgId);\n    _orgAdapterInstances.delete(orgId);\n}\n// Legacy exports for compatibility - these now use lazy loading with proper Map delegation\nconst connections = new Proxy({}, {\n    get (_target, prop) {\n        const map = getConnections();\n        const value = map[prop];\n        if (typeof value === \"function\") {\n            return value.bind(map);\n        }\n        return map.get(prop);\n    },\n    set (_target, prop, value) {\n        getConnections().set(prop, value);\n        return true;\n    },\n    deleteProperty (_target, prop) {\n        return getConnections().delete(prop);\n    }\n});\nconst adapterInstances = new Proxy({}, {\n    get (_target, prop) {\n        const map = getAdapterInstances();\n        const value = map[prop];\n        if (typeof value === \"function\") {\n            return value.bind(map);\n        }\n        return map.get(prop);\n    },\n    set (_target, prop, value) {\n        getAdapterInstances().set(prop, value);\n        return true;\n    },\n    deleteProperty (_target, prop) {\n        return getAdapterInstances().delete(prop);\n    }\n});\nasync function getConnection(connectionId) {\n    const map = getConnections();\n    let conn = map.get(connectionId);\n    if (!conn) {\n        console.log(`[Store] Connection ${connectionId} not found in memory (size: ${map.size}), forcing reload...`);\n        _legacyConnections = loadLegacyConnections();\n        conn = _legacyConnections.get(connectionId);\n        if (!conn) {\n            console.log(`[Store] Connection ${connectionId} STILL not found after reload. Available IDs: ${Array.from(_legacyConnections.keys()).join(\", \")}`);\n        } else {\n            console.log(`[Store] Connection ${connectionId} found after reload!`);\n        }\n    }\n    return conn;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVzRCxhQUFhLDRCQUE0QixFQUFFTixJQUFJbEIsSUFBSSxDQUFDLG9CQUFvQixDQUFDO1FBQzNHSyxxQkFBcUJmO1FBQ3JCbUMsT0FBT3BCLG1CQUFtQkssR0FBRyxDQUFDYztRQUM5QixJQUFJLENBQUNDLE1BQU07WUFDUHhELFFBQVFDLEdBQUcsQ0FBQyxDQUFDLG1CQUFtQixFQUFFc0QsYUFBYSw4Q0FBOEMsRUFBRUUsTUFBTUMsSUFBSSxDQUFDdEIsbUJBQW1CcEIsSUFBSSxJQUFJdkIsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUNySixPQUFPO1lBQ0hPLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLG1CQUFtQixFQUFFc0QsYUFBYSxvQkFBb0IsQ0FBQztRQUN4RTtJQUNKO0lBQ0EsT0FBT0M7QUFDWCIsInNvdXJjZXMiOlsid2VicGFjazovL0Bib3NkYi93ZWIvLi9zcmMvbGliL3N0b3JlLnRzP2FkMzMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2hhcmVkIGluLW1lbW9yeSBzdG9yYWdlIGZvciBjb25uZWN0aW9ucyBhbmQgYWRhcHRlcnNcclxuLy8gV2l0aCBvcmdhbml6YXRpb24tc2NvcGVkIGZpbGUtYmFzZWQgcGVyc2lzdGVuY2VcclxuXHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuY29uc3QgREFUQV9ESVJfTkFNRSA9ICcuYm9zZGItZGF0YSc7XHJcbmNvbnN0IExFR0FDWV9TVE9SQUdFX0ZJTEVfTkFNRSA9ICcuYm9zZGItY29ubmVjdGlvbnMuanNvbic7XHJcblxyXG4vLyBGaW5kIHByb2plY3Qgcm9vdCAoY29udGFpbnMgcGFja2FnZS5qc29uKVxyXG4vLyBGaW5kIG1vbm9yZXBvIHJvb3QgKGNvbnRhaW5zIHBhY2thZ2UuanNvbiBhbmQgYXBwcyBkaXJlY3RvcnkpXHJcbmZ1bmN0aW9uIGZpbmRQcm9qZWN0Um9vdChjdXJyZW50OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgbGV0IGRpciA9IGN1cnJlbnQ7XHJcbiAgICAvLyBXYWxrIHVwIHVudGlsIHdlIGZpbmQgYSBkaXJlY3Rvcnkgd2l0aCBwYWNrYWdlLmpzb24gYW5kIGFuICdhcHBzJyBmb2xkZXIgKG1vbm9yZXBvIHJvb3QpXHJcbiAgICAvLyBvciB3ZSBoaXQgdGhlIGRpc2sgcm9vdFxyXG4gICAgd2hpbGUgKGRpciAhPT0gcGF0aC5wYXJzZShkaXIpLnJvb3QpIHtcclxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhwYXRoLmpvaW4oZGlyLCAncGFja2FnZS5qc29uJykpICYmXHJcbiAgICAgICAgICAgIGZzLmV4aXN0c1N5bmMocGF0aC5qb2luKGRpciwgJ2FwcHMnKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGlyID0gcGF0aC5kaXJuYW1lKGRpcik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3VycmVudDsgLy8gRmFsbGJhY2sgdG8gY3VycmVudFxyXG59XHJcblxyXG5jb25zdCBQUk9KRUNUX1JPT1QgPSBmaW5kUHJvamVjdFJvb3QocHJvY2Vzcy5jd2QoKSk7XHJcbmNvbnN0IERBVEFfRElSID0gcGF0aC5qb2luKFBST0pFQ1RfUk9PVCwgREFUQV9ESVJfTkFNRSk7XHJcbmNvbnN0IE9SR1NfRElSID0gcGF0aC5qb2luKERBVEFfRElSLCAnb3JncycpO1xyXG5cclxuY29uc29sZS5sb2coYFtTdG9yZV0gSW5pdGlhbGl6ZWQgd2l0aCBQcm9qZWN0IFJvb3Q6ICR7UFJPSkVDVF9ST09UfWApO1xyXG5cclxuY29uc3QgTEVHQUNZX1NUT1JBR0VfRklMRSA9IHBhdGguam9pbihQUk9KRUNUX1JPT1QsIExFR0FDWV9TVE9SQUdFX0ZJTEVfTkFNRSk7XHJcblxyXG5mdW5jdGlvbiBnZXRPcmdEYXRhRGlyKG9yZ0lkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3Qgb3JnRGlyID0gcGF0aC5qb2luKE9SR1NfRElSLCBvcmdJZCk7XHJcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMob3JnRGlyKSkge1xyXG4gICAgICAgIGZzLm1rZGlyU3luYyhvcmdEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9yZ0RpcjtcclxufVxyXG5cclxuLy8gR2V0IG9yZ2FuaXphdGlvbi1zcGVjaWZpYyBjb25uZWN0aW9ucyBmaWxlIHBhdGhcclxuZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbnNGaWxlUGF0aChvcmdJZDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IG9yZ0RpciA9IGdldE9yZ0RhdGFEaXIob3JnSWQpO1xyXG4gICAgcmV0dXJuIHBhdGguam9pbihvcmdEaXIsICdjb25uZWN0aW9ucy5qc29uJyk7XHJcbn1cclxuXHJcbi8vIExvYWQgY29ubmVjdGlvbnMgZm9yIGEgc3BlY2lmaWMgb3JnYW5pemF0aW9uXHJcbmZ1bmN0aW9uIGxvYWRDb25uZWN0aW9uc0J5T3JnKG9yZ0lkOiBzdHJpbmcpOiBNYXA8c3RyaW5nLCBhbnk+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBnZXRDb25uZWN0aW9uc0ZpbGVQYXRoKG9yZ0lkKTtcclxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgJ3V0Zi04Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU3RvcmVdIExvYWRlZCAke09iamVjdC5rZXlzKHBhcnNlZCkubGVuZ3RofSBjb25uZWN0aW9ucyBmb3Igb3JnICR7b3JnSWR9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHBhcnNlZCkpO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgW1N0b3JlXSBGYWlsZWQgdG8gbG9hZCBjb25uZWN0aW9ucyBmb3Igb3JnICR7b3JnSWR9OmAsIGVycm9yKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgTWFwKCk7XHJcbn1cclxuXHJcbi8vIExvYWQgY29ubmVjdGlvbnMgZnJvbSBsZWdhY3kgZmlsZSAoZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXHJcbmZ1bmN0aW9uIGxvYWRMZWdhY3lDb25uZWN0aW9ucygpOiBNYXA8c3RyaW5nLCBhbnk+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gTWlncmF0aW9uOiBJZiByb290IGZpbGUgZG9lc24ndCBleGlzdCwgdHJ5IHRvIGZpbmQgaXQgaW4gY29tbW9uIHN1YmRpcmVjdG9yaWVzIGFuZCBjb3B5IGl0IG92ZXJcclxuICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoTEVHQUNZX1NUT1JBR0VfRklMRSkpIHtcclxuICAgICAgICAgICAgY29uc3QgcG9zc2libGVMb2NhdGlvbnMgPSBbXHJcbiAgICAgICAgICAgICAgICBwYXRoLmpvaW4oUFJPSkVDVF9ST09ULCAnYXBwcycsICd3ZWInLCBMRUdBQ1lfU1RPUkFHRV9GSUxFX05BTUUpLFxyXG4gICAgICAgICAgICAgICAgcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIExFR0FDWV9TVE9SQUdFX0ZJTEVfTkFNRSksXHJcbiAgICAgICAgICAgICAgICBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2FwcHMnLCAnd2ViJywgTEVHQUNZX1NUT1JBR0VfRklMRV9OQU1FKSxcclxuICAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgbG9jIG9mIHBvc3NpYmxlTG9jYXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9jICE9PSBMRUdBQ1lfU1RPUkFHRV9GSUxFICYmIGZzLmV4aXN0c1N5bmMobG9jKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU3RvcmVdIE1pZ3JhdGluZyBsZWdhY3kgY29ubmVjdGlvbnMgZnJvbSAke2xvY30gdG8gJHtMRUdBQ1lfU1RPUkFHRV9GSUxFfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMobG9jLCAndXRmLTgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnMud3JpdGVGaWxlU3luYyhMRUdBQ1lfU1RPUkFHRV9GSUxFLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbU3RvcmVdIE1pZ3JhdGlvbiBmcm9tICR7bG9jfSBmYWlsZWQ6YCwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhMRUdBQ1lfU1RPUkFHRV9GSUxFKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKExFR0FDWV9TVE9SQUdFX0ZJTEUsICd1dGYtOCcpO1xyXG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW1N0b3JlXSBMb2FkZWQgJHtPYmplY3Qua2V5cyhwYXJzZWQpLmxlbmd0aH0gY29ubmVjdGlvbnMgZnJvbSBsZWdhY3kgZmlsZSBhdCAke0xFR0FDWV9TVE9SQUdFX0ZJTEV9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHBhcnNlZCkpO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW1N0b3JlXSBGYWlsZWQgdG8gbG9hZCBsZWdhY3kgY29ubmVjdGlvbnM6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBNYXAoKTtcclxufVxyXG5cclxuLy8gU2F2ZSBjb25uZWN0aW9ucyBmb3IgYSBzcGVjaWZpYyBvcmdhbml6YXRpb25cclxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVDb25uZWN0aW9uc0J5T3JnKG9yZ0lkOiBzdHJpbmcsIGNvbm5lY3Rpb25zOiBNYXA8c3RyaW5nLCBhbnk+KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gZ2V0Q29ubmVjdGlvbnNGaWxlUGF0aChvcmdJZCk7XHJcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmZyb21FbnRyaWVzKGNvbm5lY3Rpb25zKTtcclxuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgW1N0b3JlXSBTYXZlZCAke2Nvbm5lY3Rpb25zLnNpemV9IGNvbm5lY3Rpb25zIGZvciBvcmcgJHtvcmdJZH1gKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgW1N0b3JlXSBGYWlsZWQgdG8gc2F2ZSBjb25uZWN0aW9ucyBmb3Igb3JnICR7b3JnSWR9OmAsIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gU2F2ZSBjb25uZWN0aW9ucyB0byBsZWdhY3kgZmlsZSAoZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXHJcbmV4cG9ydCBmdW5jdGlvbiBzYXZlQ29ubmVjdGlvbnMoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5mcm9tRW50cmllcyhnZXRDb25uZWN0aW9ucygpKTtcclxuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKExFR0FDWV9TVE9SQUdFX0ZJTEUsIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMikpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbU3RvcmVdIFNhdmVkICR7Z2V0Q29ubmVjdGlvbnMoKS5zaXplfSBjb25uZWN0aW9ucyB0byBsZWdhY3kgZmlsZWApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbU3RvcmVdIEZhaWxlZCB0byBzYXZlIGNvbm5lY3Rpb25zOicsIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gT3JnYW5pemF0aW9uLXNjb3BlZCBjb25uZWN0aW9uIGFuZCBhZGFwdGVyIGNhY2hlc1xyXG5jb25zdCBfb3JnQ29ubmVjdGlvbnM6IE1hcDxzdHJpbmcsIE1hcDxzdHJpbmcsIGFueT4+ID0gbmV3IE1hcCgpO1xyXG5jb25zdCBfb3JnQWRhcHRlckluc3RhbmNlczogTWFwPHN0cmluZywgTWFwPHN0cmluZywgYW55Pj4gPSBuZXcgTWFwKCk7XHJcblxyXG4vLyBMZWdhY3kgc2luZ2xlIG1hcCAobG9hZHMgZnJvbSBsZWdhY3kgZmlsZSlcclxubGV0IF9sZWdhY3lDb25uZWN0aW9uczogTWFwPHN0cmluZywgYW55PiB8IG51bGwgPSBudWxsO1xyXG5sZXQgX2xlZ2FjeUFkYXB0ZXJJbnN0YW5jZXM6IE1hcDxzdHJpbmcsIGFueT4gfCBudWxsID0gbnVsbDtcclxuXHJcbi8vIEdldCBjb25uZWN0aW9ucyBmb3IgYSBzcGVjaWZpYyBvcmdhbml6YXRpb25cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbm5lY3Rpb25zQnlPcmcob3JnSWQ6IHN0cmluZyk6IE1hcDxzdHJpbmcsIGFueT4ge1xyXG4gICAgaWYgKCFfb3JnQ29ubmVjdGlvbnMuaGFzKG9yZ0lkKSkge1xyXG4gICAgICAgIF9vcmdDb25uZWN0aW9ucy5zZXQob3JnSWQsIGxvYWRDb25uZWN0aW9uc0J5T3JnKG9yZ0lkKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX29yZ0Nvbm5lY3Rpb25zLmdldChvcmdJZCkhO1xyXG59XHJcblxyXG4vLyBHZXQgYWRhcHRlciBpbnN0YW5jZXMgZm9yIGEgc3BlY2lmaWMgb3JnYW5pemF0aW9uXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBZGFwdGVySW5zdGFuY2VzQnlPcmcob3JnSWQ6IHN0cmluZyk6IE1hcDxzdHJpbmcsIGFueT4ge1xyXG4gICAgaWYgKCFfb3JnQWRhcHRlckluc3RhbmNlcy5oYXMob3JnSWQpKSB7XHJcbiAgICAgICAgX29yZ0FkYXB0ZXJJbnN0YW5jZXMuc2V0KG9yZ0lkLCBuZXcgTWFwKCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9vcmdBZGFwdGVySW5zdGFuY2VzLmdldChvcmdJZCkhO1xyXG59XHJcblxyXG4vLyBMZWdhY3k6IEdldCBhbGwgY29ubmVjdGlvbnMgKGZyb20gbGVnYWN5IGZpbGUpXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25uZWN0aW9ucygpOiBNYXA8c3RyaW5nLCBhbnk+IHtcclxuICAgIGlmICghX2xlZ2FjeUNvbm5lY3Rpb25zKSB7XHJcbiAgICAgICAgX2xlZ2FjeUNvbm5lY3Rpb25zID0gbG9hZExlZ2FjeUNvbm5lY3Rpb25zKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX2xlZ2FjeUNvbm5lY3Rpb25zO1xyXG59XHJcblxyXG4vLyBMZWdhY3k6IEdldCBhbGwgYWRhcHRlciBpbnN0YW5jZXNcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFkYXB0ZXJJbnN0YW5jZXMoKTogTWFwPHN0cmluZywgYW55PiB7XHJcbiAgICBpZiAoIV9sZWdhY3lBZGFwdGVySW5zdGFuY2VzKSB7XHJcbiAgICAgICAgX2xlZ2FjeUFkYXB0ZXJJbnN0YW5jZXMgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX2xlZ2FjeUFkYXB0ZXJJbnN0YW5jZXM7XHJcbn1cclxuXHJcbi8vIENsZWFyIG9yZ2FuaXphdGlvbiBjYWNoZSAoZm9yIHJlZnJlc2gpXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhck9yZ0NhY2hlKG9yZ0lkOiBzdHJpbmcpIHtcclxuICAgIF9vcmdDb25uZWN0aW9ucy5kZWxldGUob3JnSWQpO1xyXG4gICAgX29yZ0FkYXB0ZXJJbnN0YW5jZXMuZGVsZXRlKG9yZ0lkKTtcclxufVxyXG5cclxuLy8gTGVnYWN5IGV4cG9ydHMgZm9yIGNvbXBhdGliaWxpdHkgLSB0aGVzZSBub3cgdXNlIGxhenkgbG9hZGluZyB3aXRoIHByb3BlciBNYXAgZGVsZWdhdGlvblxyXG5leHBvcnQgY29uc3QgY29ubmVjdGlvbnMgPSBuZXcgUHJveHkoe30gYXMgTWFwPHN0cmluZywgYW55Piwge1xyXG4gICAgZ2V0KF90YXJnZXQsIHByb3ApIHtcclxuICAgICAgICBjb25zdCBtYXAgPSBnZXRDb25uZWN0aW9ucygpO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gKG1hcCBhcyBhbnkpW3Byb3BdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmJpbmQobWFwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hcC5nZXQocHJvcCBhcyBzdHJpbmcpO1xyXG4gICAgfSxcclxuICAgIHNldChfdGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xyXG4gICAgICAgIGdldENvbm5lY3Rpb25zKCkuc2V0KHByb3AgYXMgc3RyaW5nLCB2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlUHJvcGVydHkoX3RhcmdldCwgcHJvcCkge1xyXG4gICAgICAgIHJldHVybiBnZXRDb25uZWN0aW9ucygpLmRlbGV0ZShwcm9wIGFzIHN0cmluZyk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkYXB0ZXJJbnN0YW5jZXMgPSBuZXcgUHJveHkoe30gYXMgTWFwPHN0cmluZywgYW55Piwge1xyXG4gICAgZ2V0KF90YXJnZXQsIHByb3ApIHtcclxuICAgICAgICBjb25zdCBtYXAgPSBnZXRBZGFwdGVySW5zdGFuY2VzKCk7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAobWFwIGFzIGFueSlbcHJvcF07XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuYmluZChtYXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWFwLmdldChwcm9wIGFzIHN0cmluZyk7XHJcbiAgICB9LFxyXG4gICAgc2V0KF90YXJnZXQsIHByb3AsIHZhbHVlKSB7XHJcbiAgICAgICAgZ2V0QWRhcHRlckluc3RhbmNlcygpLnNldChwcm9wIGFzIHN0cmluZywgdmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZVByb3BlcnR5KF90YXJnZXQsIHByb3ApIHtcclxuICAgICAgICByZXR1cm4gZ2V0QWRhcHRlckluc3RhbmNlcygpLmRlbGV0ZShwcm9wIGFzIHN0cmluZyk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbm5lY3Rpb24oY29ubmVjdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgY29uc3QgbWFwID0gZ2V0Q29ubmVjdGlvbnMoKTtcclxuICAgIGxldCBjb25uID0gbWFwLmdldChjb25uZWN0aW9uSWQpO1xyXG4gICAgaWYgKCFjb25uKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFtTdG9yZV0gQ29ubmVjdGlvbiAke2Nvbm5lY3Rpb25JZH0gbm90IGZvdW5kIGluIG1lbW9yeSAoc2l6ZTogJHttYXAuc2l6ZX0pLCBmb3JjaW5nIHJlbG9hZC4uLmApO1xyXG4gICAgICAgIF9sZWdhY3lDb25uZWN0aW9ucyA9IGxvYWRMZWdhY3lDb25uZWN0aW9ucygpO1xyXG4gICAgICAgIGNvbm4gPSBfbGVnYWN5Q29ubmVjdGlvbnMuZ2V0KGNvbm5lY3Rpb25JZCk7XHJcbiAgICAgICAgaWYgKCFjb25uKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU3RvcmVdIENvbm5lY3Rpb24gJHtjb25uZWN0aW9uSWR9IFNUSUxMIG5vdCBmb3VuZCBhZnRlciByZWxvYWQuIEF2YWlsYWJsZSBJRHM6ICR7QXJyYXkuZnJvbShfbGVnYWN5Q29ubmVjdGlvbnMua2V5cygpKS5qb2luKCcsICcpfWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU3RvcmVdIENvbm5lY3Rpb24gJHtjb25uZWN0aW9uSWR9IGZvdW5kIGFmdGVyIHJlbG9hZCFgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29ubjtcclxufVxyXG4iXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiREFUQV9ESVJfTkFNRSIsIkxFR0FDWV9TVE9SQUdFX0ZJTEVfTkFNRSIsImZpbmRQcm9qZWN0Um9vdCIsImN1cnJlbnQiLCJkaXIiLCJwYXJzZSIsInJvb3QiLCJleGlzdHNTeW5jIiwiam9pbiIsImRpcm5hbWUiLCJQUk9KRUNUX1JPT1QiLCJwcm9jZXNzIiwiY3dkIiwiREFUQV9ESVIiLCJPUkdTX0RJUiIsImNvbnNvbGUiLCJsb2ciLCJMRUdBQ1lfU1RPUkFHRV9GSUxFIiwiZ2V0T3JnRGF0YURpciIsIm9yZ0lkIiwib3JnRGlyIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwiZ2V0Q29ubmVjdGlvbnNGaWxlUGF0aCIsImxvYWRDb25uZWN0aW9uc0J5T3JnIiwiZmlsZVBhdGgiLCJkYXRhIiwicmVhZEZpbGVTeW5jIiwicGFyc2VkIiwiSlNPTiIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJNYXAiLCJlbnRyaWVzIiwiZXJyb3IiLCJsb2FkTGVnYWN5Q29ubmVjdGlvbnMiLCJwb3NzaWJsZUxvY2F0aW9ucyIsImxvYyIsIndyaXRlRmlsZVN5bmMiLCJlIiwic2F2ZUNvbm5lY3Rpb25zQnlPcmciLCJjb25uZWN0aW9ucyIsIm9iaiIsImZyb21FbnRyaWVzIiwic3RyaW5naWZ5Iiwic2l6ZSIsInNhdmVDb25uZWN0aW9ucyIsImdldENvbm5lY3Rpb25zIiwiX29yZ0Nvbm5lY3Rpb25zIiwiX29yZ0FkYXB0ZXJJbnN0YW5jZXMiLCJfbGVnYWN5Q29ubmVjdGlvbnMiLCJfbGVnYWN5QWRhcHRlckluc3RhbmNlcyIsImdldENvbm5lY3Rpb25zQnlPcmciLCJoYXMiLCJzZXQiLCJnZXQiLCJnZXRBZGFwdGVySW5zdGFuY2VzQnlPcmciLCJnZXRBZGFwdGVySW5zdGFuY2VzIiwiY2xlYXJPcmdDYWNoZSIsImRlbGV0ZSIsIlByb3h5IiwiX3RhcmdldCIsInByb3AiLCJtYXAiLCJ2YWx1ZSIsImJpbmQiLCJkZWxldGVQcm9wZXJ0eSIsImFkYXB0ZXJJbnN0YW5jZXMiLCJnZXRDb25uZWN0aW9uIiwiY29ubmVjdGlvbklkIiwiY29ubiIsIkFycmF5IiwiZnJvbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/store.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/security/src/encryption/encryption.ts":
/*!************************************************************!*\
  !*** ../../packages/security/src/encryption/encryption.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CredentialEncryption: () => (/* binding */ CredentialEncryption),\n/* harmony export */   decryptCredentials: () => (/* binding */ decryptCredentials),\n/* harmony export */   encryptCredentials: () => (/* binding */ encryptCredentials),\n/* harmony export */   getEncryptionInstance: () => (/* binding */ getEncryptionInstance)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ALGORITHM = \"aes-256-gcm\";\nconst KEY_LENGTH = 32;\nconst IV_LENGTH = 16;\nconst TAG_LENGTH = 16;\nconst SALT = \"bosdb-salt-v1\"; // In production, use a secure random salt\n/**\n * Credential encryption service using AES-256-GCM\n * Provides authenticated encryption for sensitive database credentials\n */ class CredentialEncryption {\n    constructor(masterKey){\n        // In production, this should come from environment variable or secret manager\n        const keySource = masterKey || process.env.ENCRYPTION_MASTER_KEY;\n        if (!keySource) {\n            throw new Error(\"Encryption master key not configured. Set ENCRYPTION_MASTER_KEY environment variable.\");\n        }\n        // Derive encryption key from master key using scrypt\n        this.key = crypto__WEBPACK_IMPORTED_MODULE_0___default().scryptSync(keySource, SALT, KEY_LENGTH);\n    }\n    /**\n     * Encrypt credentials data\n     * @param data Credentials object to encrypt\n     * @returns Base64-encoded encrypted string\n     */ encrypt(data) {\n        const iv = crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(IV_LENGTH);\n        const cipher = crypto__WEBPACK_IMPORTED_MODULE_0___default().createCipheriv(ALGORITHM, this.key, iv);\n        const plaintext = JSON.stringify(data);\n        let encrypted = cipher.update(plaintext, \"utf8\", \"hex\");\n        encrypted += cipher.final(\"hex\");\n        const tag = cipher.getAuthTag();\n        // Combine IV + encrypted data + auth tag\n        const combined = Buffer.concat([\n            iv,\n            Buffer.from(encrypted, \"hex\"),\n            tag\n        ]);\n        return combined.toString(\"base64\");\n    }\n    /**\n     * Decrypt credentials data\n     * @param encryptedData Base64-encoded encrypted string\n     * @returns Decrypted credentials object\n     */ decrypt(encryptedData) {\n        try {\n            const buffer = Buffer.from(encryptedData, \"base64\");\n            const iv = buffer.subarray(0, IV_LENGTH);\n            const tag = buffer.subarray(buffer.length - TAG_LENGTH);\n            const encrypted = buffer.subarray(IV_LENGTH, buffer.length - TAG_LENGTH);\n            const decipher = crypto__WEBPACK_IMPORTED_MODULE_0___default().createDecipheriv(ALGORITHM, this.key, iv);\n            decipher.setAuthTag(tag);\n            let decrypted = decipher.update(encrypted);\n            decrypted = Buffer.concat([\n                decrypted,\n                decipher.final()\n            ]);\n            return JSON.parse(decrypted.toString(\"utf8\"));\n        } catch (error) {\n            throw new Error(`Decryption failed: ${error.message}`);\n        }\n    }\n    /**\n     * Hash a password or sensitive string (one-way)\n     * @param value Value to hash\n     * @returns Hex-encoded hash\n     */ hash(value) {\n        return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash(\"sha256\").update(value).digest(\"hex\");\n    }\n    /**\n     * Generate a secure random token\n     * @param length Token length in bytes (default: 32)\n     * @returns Hex-encoded random token\n     */ static generateToken(length = 32) {\n        return crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(length).toString(\"hex\");\n    }\n}\n/**\n * Helper functions for credential encryption\n */ let encryptionInstance = null;\nfunction getEncryptionInstance() {\n    if (!encryptionInstance) {\n        encryptionInstance = new CredentialEncryption();\n    }\n    return encryptionInstance;\n}\nfunction encryptCredentials(credentials) {\n    return getEncryptionInstance().encrypt(credentials);\n}\nfunction decryptCredentials(encryptedData) {\n    return getEncryptionInstance().decrypt(encryptedData);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvc2VjdXJpdHkvc3JjL2VuY3J5cHRpb24vZW5jcnlwdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNEI7QUFFNUIsTUFBTUMsWUFBWTtBQUNsQixNQUFNQyxhQUFhO0FBQ25CLE1BQU1DLFlBQVk7QUFDbEIsTUFBTUMsYUFBYTtBQUNuQixNQUFNQyxPQUFPLGlCQUFpQiwwQ0FBMEM7QUFFeEU7OztDQUdDLEdBQ00sTUFBTUM7SUFHVEMsWUFBWUMsU0FBa0IsQ0FBRTtRQUM1Qiw4RUFBOEU7UUFDOUUsTUFBTUMsWUFBWUQsYUFBYUUsUUFBUUMsR0FBRyxDQUFDQyxxQkFBcUI7UUFDaEUsSUFBSSxDQUFDSCxXQUFXO1lBQ1osTUFBTSxJQUFJSSxNQUFNO1FBQ3BCO1FBRUEscURBQXFEO1FBQ3JELElBQUksQ0FBQ0MsR0FBRyxHQUFHZCx3REFBaUIsQ0FBQ1MsV0FBV0osTUFBTUg7SUFDbEQ7SUFFQTs7OztLQUlDLEdBQ0RjLFFBQVFDLElBQVMsRUFBVTtRQUN2QixNQUFNQyxLQUFLbEIseURBQWtCLENBQUNHO1FBQzlCLE1BQU1pQixTQUFTcEIsNERBQXFCLENBQUNDLFdBQVcsSUFBSSxDQUFDYSxHQUFHLEVBQUVJO1FBRTFELE1BQU1JLFlBQVlDLEtBQUtDLFNBQVMsQ0FBQ1A7UUFDakMsSUFBSVEsWUFBWUwsT0FBT00sTUFBTSxDQUFDSixXQUFXLFFBQVE7UUFDakRHLGFBQWFMLE9BQU9PLEtBQUssQ0FBQztRQUUxQixNQUFNQyxNQUFNUixPQUFPUyxVQUFVO1FBRTdCLHlDQUF5QztRQUN6QyxNQUFNQyxXQUFXQyxPQUFPQyxNQUFNLENBQUM7WUFBQ2Q7WUFBSWEsT0FBT0UsSUFBSSxDQUFDUixXQUFXO1lBQVFHO1NBQUk7UUFFdkUsT0FBT0UsU0FBU0ksUUFBUSxDQUFDO0lBQzdCO0lBRUE7Ozs7S0FJQyxHQUNEQyxRQUFRQyxhQUFxQixFQUFPO1FBQ2hDLElBQUk7WUFDQSxNQUFNQyxTQUFTTixPQUFPRSxJQUFJLENBQUNHLGVBQWU7WUFFMUMsTUFBTWxCLEtBQUttQixPQUFPQyxRQUFRLENBQUMsR0FBR25DO1lBQzlCLE1BQU15QixNQUFNUyxPQUFPQyxRQUFRLENBQUNELE9BQU9FLE1BQU0sR0FBR25DO1lBQzVDLE1BQU1xQixZQUFZWSxPQUFPQyxRQUFRLENBQUNuQyxXQUFXa0MsT0FBT0UsTUFBTSxHQUFHbkM7WUFFN0QsTUFBTW9DLFdBQVd4Qyw4REFBdUIsQ0FBQ0MsV0FBVyxJQUFJLENBQUNhLEdBQUcsRUFBRUk7WUFDOURzQixTQUFTRSxVQUFVLENBQUNkO1lBRXBCLElBQUllLFlBQVlILFNBQVNkLE1BQU0sQ0FBQ0Q7WUFDaENrQixZQUFZWixPQUFPQyxNQUFNLENBQUM7Z0JBQUNXO2dCQUFXSCxTQUFTYixLQUFLO2FBQUc7WUFFdkQsT0FBT0osS0FBS3FCLEtBQUssQ0FBQ0QsVUFBVVQsUUFBUSxDQUFDO1FBQ3pDLEVBQUUsT0FBT1csT0FBWTtZQUNqQixNQUFNLElBQUloQyxNQUFNLENBQUMsbUJBQW1CLEVBQUVnQyxNQUFNQyxPQUFPLENBQUMsQ0FBQztRQUN6RDtJQUNKO0lBRUE7Ozs7S0FJQyxHQUNEQyxLQUFLQyxLQUFhLEVBQVU7UUFDeEIsT0FBT2hELHdEQUFpQixDQUFDLFVBQVUwQixNQUFNLENBQUNzQixPQUFPRSxNQUFNLENBQUM7SUFDNUQ7SUFFQTs7OztLQUlDLEdBQ0QsT0FBT0MsY0FBY1osU0FBaUIsRUFBRSxFQUFVO1FBQzlDLE9BQU92Qyx5REFBa0IsQ0FBQ3VDLFFBQVFMLFFBQVEsQ0FBQztJQUMvQztBQUNKO0FBRUE7O0NBRUMsR0FFRCxJQUFJa0IscUJBQWtEO0FBRS9DLFNBQVNDO0lBQ1osSUFBSSxDQUFDRCxvQkFBb0I7UUFDckJBLHFCQUFxQixJQUFJOUM7SUFDN0I7SUFDQSxPQUFPOEM7QUFDWDtBQUVPLFNBQVNFLG1CQUFtQkMsV0FBZ0I7SUFDL0MsT0FBT0Ysd0JBQXdCckMsT0FBTyxDQUFDdUM7QUFDM0M7QUFFTyxTQUFTQyxtQkFBbUJwQixhQUFxQjtJQUNwRCxPQUFPaUIsd0JBQXdCbEIsT0FBTyxDQUFDQztBQUMzQyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bib3NkYi93ZWIvLi4vLi4vcGFja2FnZXMvc2VjdXJpdHkvc3JjL2VuY3J5cHRpb24vZW5jcnlwdGlvbi50cz9jMTdjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcblxuY29uc3QgQUxHT1JJVEhNID0gJ2Flcy0yNTYtZ2NtJztcbmNvbnN0IEtFWV9MRU5HVEggPSAzMjtcbmNvbnN0IElWX0xFTkdUSCA9IDE2O1xuY29uc3QgVEFHX0xFTkdUSCA9IDE2O1xuY29uc3QgU0FMVCA9ICdib3NkYi1zYWx0LXYxJzsgLy8gSW4gcHJvZHVjdGlvbiwgdXNlIGEgc2VjdXJlIHJhbmRvbSBzYWx0XG5cbi8qKlxuICogQ3JlZGVudGlhbCBlbmNyeXB0aW9uIHNlcnZpY2UgdXNpbmcgQUVTLTI1Ni1HQ01cbiAqIFByb3ZpZGVzIGF1dGhlbnRpY2F0ZWQgZW5jcnlwdGlvbiBmb3Igc2Vuc2l0aXZlIGRhdGFiYXNlIGNyZWRlbnRpYWxzXG4gKi9cbmV4cG9ydCBjbGFzcyBDcmVkZW50aWFsRW5jcnlwdGlvbiB7XG4gICAgcHJpdmF0ZSBrZXk6IEJ1ZmZlcjtcblxuICAgIGNvbnN0cnVjdG9yKG1hc3RlcktleT86IHN0cmluZykge1xuICAgICAgICAvLyBJbiBwcm9kdWN0aW9uLCB0aGlzIHNob3VsZCBjb21lIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgb3Igc2VjcmV0IG1hbmFnZXJcbiAgICAgICAgY29uc3Qga2V5U291cmNlID0gbWFzdGVyS2V5IHx8IHByb2Nlc3MuZW52LkVOQ1JZUFRJT05fTUFTVEVSX0tFWTtcbiAgICAgICAgaWYgKCFrZXlTb3VyY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW5jcnlwdGlvbiBtYXN0ZXIga2V5IG5vdCBjb25maWd1cmVkLiBTZXQgRU5DUllQVElPTl9NQVNURVJfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVyaXZlIGVuY3J5cHRpb24ga2V5IGZyb20gbWFzdGVyIGtleSB1c2luZyBzY3J5cHRcbiAgICAgICAgdGhpcy5rZXkgPSBjcnlwdG8uc2NyeXB0U3luYyhrZXlTb3VyY2UsIFNBTFQsIEtFWV9MRU5HVEgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuY3J5cHQgY3JlZGVudGlhbHMgZGF0YVxuICAgICAqIEBwYXJhbSBkYXRhIENyZWRlbnRpYWxzIG9iamVjdCB0byBlbmNyeXB0XG4gICAgICogQHJldHVybnMgQmFzZTY0LWVuY29kZWQgZW5jcnlwdGVkIHN0cmluZ1xuICAgICAqL1xuICAgIGVuY3J5cHQoZGF0YTogYW55KTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgaXYgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoSVZfTEVOR1RIKTtcbiAgICAgICAgY29uc3QgY2lwaGVyID0gY3J5cHRvLmNyZWF0ZUNpcGhlcml2KEFMR09SSVRITSwgdGhpcy5rZXksIGl2KTtcblxuICAgICAgICBjb25zdCBwbGFpbnRleHQgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgbGV0IGVuY3J5cHRlZCA9IGNpcGhlci51cGRhdGUocGxhaW50ZXh0LCAndXRmOCcsICdoZXgnKTtcbiAgICAgICAgZW5jcnlwdGVkICs9IGNpcGhlci5maW5hbCgnaGV4Jyk7XG5cbiAgICAgICAgY29uc3QgdGFnID0gY2lwaGVyLmdldEF1dGhUYWcoKTtcblxuICAgICAgICAvLyBDb21iaW5lIElWICsgZW5jcnlwdGVkIGRhdGEgKyBhdXRoIHRhZ1xuICAgICAgICBjb25zdCBjb21iaW5lZCA9IEJ1ZmZlci5jb25jYXQoW2l2LCBCdWZmZXIuZnJvbShlbmNyeXB0ZWQsICdoZXgnKSwgdGFnXSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbWJpbmVkLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWNyeXB0IGNyZWRlbnRpYWxzIGRhdGFcbiAgICAgKiBAcGFyYW0gZW5jcnlwdGVkRGF0YSBCYXNlNjQtZW5jb2RlZCBlbmNyeXB0ZWQgc3RyaW5nXG4gICAgICogQHJldHVybnMgRGVjcnlwdGVkIGNyZWRlbnRpYWxzIG9iamVjdFxuICAgICAqL1xuICAgIGRlY3J5cHQoZW5jcnlwdGVkRGF0YTogc3RyaW5nKTogYW55IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGVuY3J5cHRlZERhdGEsICdiYXNlNjQnKTtcblxuICAgICAgICAgICAgY29uc3QgaXYgPSBidWZmZXIuc3ViYXJyYXkoMCwgSVZfTEVOR1RIKTtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IGJ1ZmZlci5zdWJhcnJheShidWZmZXIubGVuZ3RoIC0gVEFHX0xFTkdUSCk7XG4gICAgICAgICAgICBjb25zdCBlbmNyeXB0ZWQgPSBidWZmZXIuc3ViYXJyYXkoSVZfTEVOR1RILCBidWZmZXIubGVuZ3RoIC0gVEFHX0xFTkdUSCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRlY2lwaGVyID0gY3J5cHRvLmNyZWF0ZURlY2lwaGVyaXYoQUxHT1JJVEhNLCB0aGlzLmtleSwgaXYpO1xuICAgICAgICAgICAgZGVjaXBoZXIuc2V0QXV0aFRhZyh0YWcpO1xuXG4gICAgICAgICAgICBsZXQgZGVjcnlwdGVkID0gZGVjaXBoZXIudXBkYXRlKGVuY3J5cHRlZCk7XG4gICAgICAgICAgICBkZWNyeXB0ZWQgPSBCdWZmZXIuY29uY2F0KFtkZWNyeXB0ZWQsIGRlY2lwaGVyLmZpbmFsKCldKTtcblxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjcnlwdGVkLnRvU3RyaW5nKCd1dGY4JykpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERlY3J5cHRpb24gZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYXNoIGEgcGFzc3dvcmQgb3Igc2Vuc2l0aXZlIHN0cmluZyAob25lLXdheSlcbiAgICAgKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gaGFzaFxuICAgICAqIEByZXR1cm5zIEhleC1lbmNvZGVkIGhhc2hcbiAgICAgKi9cbiAgICBoYXNoKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZSh2YWx1ZSkuZGlnZXN0KCdoZXgnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHNlY3VyZSByYW5kb20gdG9rZW5cbiAgICAgKiBAcGFyYW0gbGVuZ3RoIFRva2VuIGxlbmd0aCBpbiBieXRlcyAoZGVmYXVsdDogMzIpXG4gICAgICogQHJldHVybnMgSGV4LWVuY29kZWQgcmFuZG9tIHRva2VuXG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRlVG9rZW4obGVuZ3RoOiBudW1iZXIgPSAzMik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMobGVuZ3RoKS50b1N0cmluZygnaGV4Jyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIGNyZWRlbnRpYWwgZW5jcnlwdGlvblxuICovXG5cbmxldCBlbmNyeXB0aW9uSW5zdGFuY2U6IENyZWRlbnRpYWxFbmNyeXB0aW9uIHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmNyeXB0aW9uSW5zdGFuY2UoKTogQ3JlZGVudGlhbEVuY3J5cHRpb24ge1xuICAgIGlmICghZW5jcnlwdGlvbkluc3RhbmNlKSB7XG4gICAgICAgIGVuY3J5cHRpb25JbnN0YW5jZSA9IG5ldyBDcmVkZW50aWFsRW5jcnlwdGlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gZW5jcnlwdGlvbkluc3RhbmNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5jcnlwdENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzOiBhbnkpOiBzdHJpbmcge1xuICAgIHJldHVybiBnZXRFbmNyeXB0aW9uSW5zdGFuY2UoKS5lbmNyeXB0KGNyZWRlbnRpYWxzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlY3J5cHRDcmVkZW50aWFscyhlbmNyeXB0ZWREYXRhOiBzdHJpbmcpOiBhbnkge1xuICAgIHJldHVybiBnZXRFbmNyeXB0aW9uSW5zdGFuY2UoKS5kZWNyeXB0KGVuY3J5cHRlZERhdGEpO1xufVxuIl0sIm5hbWVzIjpbImNyeXB0byIsIkFMR09SSVRITSIsIktFWV9MRU5HVEgiLCJJVl9MRU5HVEgiLCJUQUdfTEVOR1RIIiwiU0FMVCIsIkNyZWRlbnRpYWxFbmNyeXB0aW9uIiwiY29uc3RydWN0b3IiLCJtYXN0ZXJLZXkiLCJrZXlTb3VyY2UiLCJwcm9jZXNzIiwiZW52IiwiRU5DUllQVElPTl9NQVNURVJfS0VZIiwiRXJyb3IiLCJrZXkiLCJzY3J5cHRTeW5jIiwiZW5jcnlwdCIsImRhdGEiLCJpdiIsInJhbmRvbUJ5dGVzIiwiY2lwaGVyIiwiY3JlYXRlQ2lwaGVyaXYiLCJwbGFpbnRleHQiLCJKU09OIiwic3RyaW5naWZ5IiwiZW5jcnlwdGVkIiwidXBkYXRlIiwiZmluYWwiLCJ0YWciLCJnZXRBdXRoVGFnIiwiY29tYmluZWQiLCJCdWZmZXIiLCJjb25jYXQiLCJmcm9tIiwidG9TdHJpbmciLCJkZWNyeXB0IiwiZW5jcnlwdGVkRGF0YSIsImJ1ZmZlciIsInN1YmFycmF5IiwibGVuZ3RoIiwiZGVjaXBoZXIiLCJjcmVhdGVEZWNpcGhlcml2Iiwic2V0QXV0aFRhZyIsImRlY3J5cHRlZCIsInBhcnNlIiwiZXJyb3IiLCJtZXNzYWdlIiwiaGFzaCIsInZhbHVlIiwiY3JlYXRlSGFzaCIsImRpZ2VzdCIsImdlbmVyYXRlVG9rZW4iLCJlbmNyeXB0aW9uSW5zdGFuY2UiLCJnZXRFbmNyeXB0aW9uSW5zdGFuY2UiLCJlbmNyeXB0Q3JlZGVudGlhbHMiLCJjcmVkZW50aWFscyIsImRlY3J5cHRDcmVkZW50aWFscyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/security/src/encryption/encryption.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/security/src/index.ts":
/*!********************************************!*\
  !*** ../../packages/security/src/index.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CredentialEncryption: () => (/* reexport safe */ _encryption_encryption__WEBPACK_IMPORTED_MODULE_0__.CredentialEncryption),\n/* harmony export */   decryptCredentials: () => (/* reexport safe */ _encryption_encryption__WEBPACK_IMPORTED_MODULE_0__.decryptCredentials),\n/* harmony export */   encryptCredentials: () => (/* reexport safe */ _encryption_encryption__WEBPACK_IMPORTED_MODULE_0__.encryptCredentials),\n/* harmony export */   escapeString: () => (/* reexport safe */ _sql_guard_sql_guard__WEBPACK_IMPORTED_MODULE_1__.escapeString),\n/* harmony export */   getEncryptionInstance: () => (/* reexport safe */ _encryption_encryption__WEBPACK_IMPORTED_MODULE_0__.getEncryptionInstance),\n/* harmony export */   isReadOnlyQuery: () => (/* reexport safe */ _sql_guard_sql_guard__WEBPACK_IMPORTED_MODULE_1__.isReadOnlyQuery),\n/* harmony export */   sanitizeIdentifier: () => (/* reexport safe */ _sql_guard_sql_guard__WEBPACK_IMPORTED_MODULE_1__.sanitizeIdentifier),\n/* harmony export */   validateQuery: () => (/* reexport safe */ _sql_guard_sql_guard__WEBPACK_IMPORTED_MODULE_1__.validateQuery)\n/* harmony export */ });\n/* harmony import */ var _encryption_encryption__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encryption/encryption */ \"(rsc)/../../packages/security/src/encryption/encryption.ts\");\n/* harmony import */ var _sql_guard_sql_guard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sql-guard/sql-guard */ \"(rsc)/../../packages/security/src/sql-guard/sql-guard.ts\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvc2VjdXJpdHkvc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBd0M7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bib3NkYi93ZWIvLi4vLi4vcGFja2FnZXMvc2VjdXJpdHkvc3JjL2luZGV4LnRzPzA5ZmQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9lbmNyeXB0aW9uL2VuY3J5cHRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9zcWwtZ3VhcmQvc3FsLWd1YXJkJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/security/src/index.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/security/src/sql-guard/sql-guard.ts":
/*!**********************************************************!*\
  !*** ../../packages/security/src/sql-guard/sql-guard.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   escapeString: () => (/* binding */ escapeString),\n/* harmony export */   isReadOnlyQuery: () => (/* binding */ isReadOnlyQuery),\n/* harmony export */   sanitizeIdentifier: () => (/* binding */ sanitizeIdentifier),\n/* harmony export */   validateQuery: () => (/* binding */ validateQuery)\n/* harmony export */ });\n/**\n * SQL injection detection and query validation\n */ /**\n * Validate a SQL query for potentially dangerous patterns\n * This is a defense-in-depth measure, not a replacement for parameterized queries\n */ function validateQuery(query) {\n    // Normalize query\n    const normalized = query.replace(/--.*$/gm, \"\") // Remove single-line comments\n    .replace(/\\/\\*[\\s\\S]*?\\*\\//g, \"\") // Remove multi-line comments\n    .replace(/\\s+/g, \" \") // Normalize whitespace\n    .trim().toLowerCase();\n    // Check for multiple statements (SQL injection attempts)\n    const statements = normalized.split(\";\").filter((s)=>s.trim().length > 0);\n    const hasMultipleStatements = statements.length > 1;\n    // Highly dangerous patterns (blocking level)\n    const blockedPatterns = [\n        {\n            pattern: /xp_cmdshell/i,\n            severity: \"high\",\n            desc: \"Command execution attempt\"\n        },\n        {\n            pattern: /exec\\s*\\(/i,\n            severity: \"high\",\n            desc: \"Dynamic SQL execution\"\n        },\n        {\n            pattern: /into\\s+outfile/i,\n            severity: \"high\",\n            desc: \"File write attempt\"\n        },\n        {\n            pattern: /load_file/i,\n            severity: \"high\",\n            desc: \"File read attempt\"\n        }\n    ];\n    // Multi-statement attacks (only block if multiple statements detected)\n    const multiStatementPatterns = [\n        {\n            pattern: /;\\s*drop\\s+(table|database|schema)/i,\n            severity: \"high\",\n            desc: \"DROP in multi-statement\"\n        },\n        {\n            pattern: /;\\s*truncate\\s+/i,\n            severity: \"high\",\n            desc: \"TRUNCATE in multi-statement\"\n        },\n        {\n            pattern: /;\\s*delete\\s+from/i,\n            severity: \"high\",\n            desc: \"DELETE in multi-statement\"\n        },\n        {\n            pattern: /;\\s*shutdown/i,\n            severity: \"high\",\n            desc: \"Shutdown command\"\n        }\n    ];\n    // Suspicious patterns (warning level) - only for multi-statement queries\n    const suspiciousPatterns = [\n        {\n            pattern: /union\\s+select/i,\n            severity: \"medium\",\n            desc: \"UNION-based injection\"\n        }\n    ];\n    const detectedPatterns = [];\n    let maxSeverity = \"low\";\n    // Check blocked patterns\n    for (const { pattern, severity, desc } of blockedPatterns){\n        if (pattern.test(normalized)) {\n            detectedPatterns.push(desc);\n            if (severity === \"high\") {\n                maxSeverity = \"high\";\n            }\n        }\n    }\n    // Check multi-statement patterns only if multiple statements detected\n    if (hasMultipleStatements) {\n        for (const { pattern, severity, desc } of multiStatementPatterns){\n            if (pattern.test(normalized)) {\n                detectedPatterns.push(desc);\n                if (severity === \"high\") {\n                    maxSeverity = \"high\";\n                }\n            }\n        }\n    }\n    // If high severity patterns found, block immediately\n    if (maxSeverity === \"high\") {\n        return {\n            safe: false,\n            reason: \"Dangerous SQL patterns detected\",\n            patterns: detectedPatterns,\n            severity: \"high\"\n        };\n    }\n    // Check suspicious patterns only for multi-statement queries\n    if (hasMultipleStatements) {\n        for (const { pattern, desc } of suspiciousPatterns){\n            if (pattern.test(normalized)) {\n                detectedPatterns.push(desc);\n                if (maxSeverity === \"low\") {\n                    maxSeverity = \"medium\";\n                }\n            }\n        }\n    }\n    if (detectedPatterns.length > 0) {\n        return {\n            safe: false,\n            reason: \"Suspicious SQL patterns detected\",\n            patterns: detectedPatterns,\n            severity: maxSeverity\n        };\n    }\n    return {\n        safe: true\n    };\n}\n/**\n * Sanitize table/column names (prevent SQL injection in identifiers)\n */ function sanitizeIdentifier(identifier) {\n    // Only allow alphanumeric, underscore, and hyphen\n    if (!/^[a-zA-Z0-9_-]+$/.test(identifier)) {\n        throw new Error(`Invalid identifier: ${identifier}`);\n    }\n    return identifier;\n}\n/**\n * Escape string values for SQL (use parameterized queries instead when possible)\n */ function escapeString(value) {\n    return value.replace(/'/g, \"''\");\n}\n/**\n * Check if query is read-only (safe for read-only connections)\n */ function isReadOnlyQuery(query) {\n    const normalized = query.trim().toLowerCase();\n    // Allow SELECT, EXPLAIN, SHOW, DESCRIBE\n    const readOnlyKeywords = [\n        \"select\",\n        \"explain\",\n        \"show\",\n        \"describe\",\n        \"with\"\n    ];\n    return readOnlyKeywords.some((keyword)=>normalized.startsWith(keyword));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvc2VjdXJpdHkvc3JjL3NxbC1ndWFyZC9zcWwtZ3VhcmQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztDQUVDLEdBU0Q7OztDQUdDLEdBQ00sU0FBU0EsY0FBY0MsS0FBYTtJQUN2QyxrQkFBa0I7SUFDbEIsTUFBTUMsYUFBYUQsTUFDZEUsT0FBTyxDQUFDLFdBQVcsSUFBSSw4QkFBOEI7S0FDckRBLE9BQU8sQ0FBQyxxQkFBcUIsSUFBSSw2QkFBNkI7S0FDOURBLE9BQU8sQ0FBQyxRQUFRLEtBQUssdUJBQXVCO0tBQzVDQyxJQUFJLEdBQ0pDLFdBQVc7SUFFaEIseURBQXlEO0lBQ3pELE1BQU1DLGFBQWFKLFdBQVdLLEtBQUssQ0FBQyxLQUFLQyxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVMLElBQUksR0FBR00sTUFBTSxHQUFHO0lBQ3ZFLE1BQU1DLHdCQUF3QkwsV0FBV0ksTUFBTSxHQUFHO0lBRWxELDZDQUE2QztJQUM3QyxNQUFNRSxrQkFBa0I7UUFDcEI7WUFBRUMsU0FBUztZQUFnQkMsVUFBVTtZQUFRQyxNQUFNO1FBQTRCO1FBQy9FO1lBQUVGLFNBQVM7WUFBY0MsVUFBVTtZQUFRQyxNQUFNO1FBQXdCO1FBQ3pFO1lBQUVGLFNBQVM7WUFBbUJDLFVBQVU7WUFBUUMsTUFBTTtRQUFxQjtRQUMzRTtZQUFFRixTQUFTO1lBQWNDLFVBQVU7WUFBUUMsTUFBTTtRQUFvQjtLQUN4RTtJQUVELHVFQUF1RTtJQUN2RSxNQUFNQyx5QkFBeUI7UUFDM0I7WUFBRUgsU0FBUztZQUF1Q0MsVUFBVTtZQUFRQyxNQUFNO1FBQTBCO1FBQ3BHO1lBQUVGLFNBQVM7WUFBb0JDLFVBQVU7WUFBUUMsTUFBTTtRQUE4QjtRQUNyRjtZQUFFRixTQUFTO1lBQXNCQyxVQUFVO1lBQVFDLE1BQU07UUFBNEI7UUFDckY7WUFBRUYsU0FBUztZQUFpQkMsVUFBVTtZQUFRQyxNQUFNO1FBQW1CO0tBQzFFO0lBRUQseUVBQXlFO0lBQ3pFLE1BQU1FLHFCQUFxQjtRQUN2QjtZQUFFSixTQUFTO1lBQW1CQyxVQUFVO1lBQVVDLE1BQU07UUFBd0I7S0FDbkY7SUFFRCxNQUFNRyxtQkFBNkIsRUFBRTtJQUNyQyxJQUFJQyxjQUF5QztJQUU3Qyx5QkFBeUI7SUFDekIsS0FBSyxNQUFNLEVBQUVOLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUUsSUFBSUgsZ0JBQWlCO1FBQ3ZELElBQUlDLFFBQVFPLElBQUksQ0FBQ2xCLGFBQWE7WUFDMUJnQixpQkFBaUJHLElBQUksQ0FBQ047WUFDdEIsSUFBSUQsYUFBYSxRQUFRO2dCQUNyQkssY0FBYztZQUNsQjtRQUNKO0lBQ0o7SUFFQSxzRUFBc0U7SUFDdEUsSUFBSVIsdUJBQXVCO1FBQ3ZCLEtBQUssTUFBTSxFQUFFRSxPQUFPLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFLElBQUlDLHVCQUF3QjtZQUM5RCxJQUFJSCxRQUFRTyxJQUFJLENBQUNsQixhQUFhO2dCQUMxQmdCLGlCQUFpQkcsSUFBSSxDQUFDTjtnQkFDdEIsSUFBSUQsYUFBYSxRQUFRO29CQUNyQkssY0FBYztnQkFDbEI7WUFDSjtRQUNKO0lBQ0o7SUFFQSxxREFBcUQ7SUFDckQsSUFBSUEsZ0JBQWdCLFFBQVE7UUFDeEIsT0FBTztZQUNIRyxNQUFNO1lBQ05DLFFBQVE7WUFDUkMsVUFBVU47WUFDVkosVUFBVTtRQUNkO0lBQ0o7SUFFQSw2REFBNkQ7SUFDN0QsSUFBSUgsdUJBQXVCO1FBQ3ZCLEtBQUssTUFBTSxFQUFFRSxPQUFPLEVBQUVFLElBQUksRUFBRSxJQUFJRSxtQkFBb0I7WUFDaEQsSUFBSUosUUFBUU8sSUFBSSxDQUFDbEIsYUFBYTtnQkFDMUJnQixpQkFBaUJHLElBQUksQ0FBQ047Z0JBQ3RCLElBQUlJLGdCQUFnQixPQUFPO29CQUN2QkEsY0FBYztnQkFDbEI7WUFDSjtRQUNKO0lBQ0o7SUFFQSxJQUFJRCxpQkFBaUJSLE1BQU0sR0FBRyxHQUFHO1FBQzdCLE9BQU87WUFDSFksTUFBTTtZQUNOQyxRQUFRO1lBQ1JDLFVBQVVOO1lBQ1ZKLFVBQVVLO1FBQ2Q7SUFDSjtJQUVBLE9BQU87UUFBRUcsTUFBTTtJQUFLO0FBQ3hCO0FBRUE7O0NBRUMsR0FDTSxTQUFTRyxtQkFBbUJDLFVBQWtCO0lBQ2pELGtEQUFrRDtJQUNsRCxJQUFJLENBQUMsbUJBQW1CTixJQUFJLENBQUNNLGFBQWE7UUFDdEMsTUFBTSxJQUFJQyxNQUFNLENBQUMsb0JBQW9CLEVBQUVELFdBQVcsQ0FBQztJQUN2RDtJQUNBLE9BQU9BO0FBQ1g7QUFFQTs7Q0FFQyxHQUNNLFNBQVNFLGFBQWFDLEtBQWE7SUFDdEMsT0FBT0EsTUFBTTFCLE9BQU8sQ0FBQyxNQUFNO0FBQy9CO0FBRUE7O0NBRUMsR0FDTSxTQUFTMkIsZ0JBQWdCN0IsS0FBYTtJQUN6QyxNQUFNQyxhQUFhRCxNQUFNRyxJQUFJLEdBQUdDLFdBQVc7SUFFM0Msd0NBQXdDO0lBQ3hDLE1BQU0wQixtQkFBbUI7UUFBQztRQUFVO1FBQVc7UUFBUTtRQUFZO0tBQU87SUFFMUUsT0FBT0EsaUJBQWlCQyxJQUFJLENBQUMsQ0FBQ0MsVUFBWS9CLFdBQVdnQyxVQUFVLENBQUNEO0FBQ3BFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJvc2RiL3dlYi8uLi8uLi9wYWNrYWdlcy9zZWN1cml0eS9zcmMvc3FsLWd1YXJkL3NxbC1ndWFyZC50cz8zNDFiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU1FMIGluamVjdGlvbiBkZXRlY3Rpb24gYW5kIHF1ZXJ5IHZhbGlkYXRpb25cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRpb25SZXN1bHQge1xuICAgIHNhZmU6IGJvb2xlYW47XG4gICAgcmVhc29uPzogc3RyaW5nO1xuICAgIHBhdHRlcm5zPzogc3RyaW5nW107XG4gICAgc2V2ZXJpdHk/OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIGEgU1FMIHF1ZXJ5IGZvciBwb3RlbnRpYWxseSBkYW5nZXJvdXMgcGF0dGVybnNcbiAqIFRoaXMgaXMgYSBkZWZlbnNlLWluLWRlcHRoIG1lYXN1cmUsIG5vdCBhIHJlcGxhY2VtZW50IGZvciBwYXJhbWV0ZXJpemVkIHF1ZXJpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUXVlcnkocXVlcnk6IHN0cmluZyk6IFZhbGlkYXRpb25SZXN1bHQge1xuICAgIC8vIE5vcm1hbGl6ZSBxdWVyeVxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBxdWVyeVxuICAgICAgICAucmVwbGFjZSgvLS0uKiQvZ20sICcnKSAvLyBSZW1vdmUgc2luZ2xlLWxpbmUgY29tbWVudHNcbiAgICAgICAgLnJlcGxhY2UoL1xcL1xcKltcXHNcXFNdKj9cXCpcXC8vZywgJycpIC8vIFJlbW92ZSBtdWx0aS1saW5lIGNvbW1lbnRzXG4gICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykgLy8gTm9ybWFsaXplIHdoaXRlc3BhY2VcbiAgICAgICAgLnRyaW0oKVxuICAgICAgICAudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIENoZWNrIGZvciBtdWx0aXBsZSBzdGF0ZW1lbnRzIChTUUwgaW5qZWN0aW9uIGF0dGVtcHRzKVxuICAgIGNvbnN0IHN0YXRlbWVudHMgPSBub3JtYWxpemVkLnNwbGl0KCc7JykuZmlsdGVyKHMgPT4gcy50cmltKCkubGVuZ3RoID4gMCk7XG4gICAgY29uc3QgaGFzTXVsdGlwbGVTdGF0ZW1lbnRzID0gc3RhdGVtZW50cy5sZW5ndGggPiAxO1xuXG4gICAgLy8gSGlnaGx5IGRhbmdlcm91cyBwYXR0ZXJucyAoYmxvY2tpbmcgbGV2ZWwpXG4gICAgY29uc3QgYmxvY2tlZFBhdHRlcm5zID0gW1xuICAgICAgICB7IHBhdHRlcm46IC94cF9jbWRzaGVsbC9pLCBzZXZlcml0eTogJ2hpZ2gnLCBkZXNjOiAnQ29tbWFuZCBleGVjdXRpb24gYXR0ZW1wdCcgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvZXhlY1xccypcXCgvaSwgc2V2ZXJpdHk6ICdoaWdoJywgZGVzYzogJ0R5bmFtaWMgU1FMIGV4ZWN1dGlvbicgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvaW50b1xccytvdXRmaWxlL2ksIHNldmVyaXR5OiAnaGlnaCcsIGRlc2M6ICdGaWxlIHdyaXRlIGF0dGVtcHQnIH0sXG4gICAgICAgIHsgcGF0dGVybjogL2xvYWRfZmlsZS9pLCBzZXZlcml0eTogJ2hpZ2gnLCBkZXNjOiAnRmlsZSByZWFkIGF0dGVtcHQnIH0sXG4gICAgXTtcblxuICAgIC8vIE11bHRpLXN0YXRlbWVudCBhdHRhY2tzIChvbmx5IGJsb2NrIGlmIG11bHRpcGxlIHN0YXRlbWVudHMgZGV0ZWN0ZWQpXG4gICAgY29uc3QgbXVsdGlTdGF0ZW1lbnRQYXR0ZXJucyA9IFtcbiAgICAgICAgeyBwYXR0ZXJuOiAvO1xccypkcm9wXFxzKyh0YWJsZXxkYXRhYmFzZXxzY2hlbWEpL2ksIHNldmVyaXR5OiAnaGlnaCcsIGRlc2M6ICdEUk9QIGluIG11bHRpLXN0YXRlbWVudCcgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvO1xccyp0cnVuY2F0ZVxccysvaSwgc2V2ZXJpdHk6ICdoaWdoJywgZGVzYzogJ1RSVU5DQVRFIGluIG11bHRpLXN0YXRlbWVudCcgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvO1xccypkZWxldGVcXHMrZnJvbS9pLCBzZXZlcml0eTogJ2hpZ2gnLCBkZXNjOiAnREVMRVRFIGluIG11bHRpLXN0YXRlbWVudCcgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvO1xccypzaHV0ZG93bi9pLCBzZXZlcml0eTogJ2hpZ2gnLCBkZXNjOiAnU2h1dGRvd24gY29tbWFuZCcgfSxcbiAgICBdO1xuXG4gICAgLy8gU3VzcGljaW91cyBwYXR0ZXJucyAod2FybmluZyBsZXZlbCkgLSBvbmx5IGZvciBtdWx0aS1zdGF0ZW1lbnQgcXVlcmllc1xuICAgIGNvbnN0IHN1c3BpY2lvdXNQYXR0ZXJucyA9IFtcbiAgICAgICAgeyBwYXR0ZXJuOiAvdW5pb25cXHMrc2VsZWN0L2ksIHNldmVyaXR5OiAnbWVkaXVtJywgZGVzYzogJ1VOSU9OLWJhc2VkIGluamVjdGlvbicgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgZGV0ZWN0ZWRQYXR0ZXJuczogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgbWF4U2V2ZXJpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgPSAnbG93JztcblxuICAgIC8vIENoZWNrIGJsb2NrZWQgcGF0dGVybnNcbiAgICBmb3IgKGNvbnN0IHsgcGF0dGVybiwgc2V2ZXJpdHksIGRlc2MgfSBvZiBibG9ja2VkUGF0dGVybnMpIHtcbiAgICAgICAgaWYgKHBhdHRlcm4udGVzdChub3JtYWxpemVkKSkge1xuICAgICAgICAgICAgZGV0ZWN0ZWRQYXR0ZXJucy5wdXNoKGRlc2MpO1xuICAgICAgICAgICAgaWYgKHNldmVyaXR5ID09PSAnaGlnaCcpIHtcbiAgICAgICAgICAgICAgICBtYXhTZXZlcml0eSA9ICdoaWdoJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIG11bHRpLXN0YXRlbWVudCBwYXR0ZXJucyBvbmx5IGlmIG11bHRpcGxlIHN0YXRlbWVudHMgZGV0ZWN0ZWRcbiAgICBpZiAoaGFzTXVsdGlwbGVTdGF0ZW1lbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgeyBwYXR0ZXJuLCBzZXZlcml0eSwgZGVzYyB9IG9mIG11bHRpU3RhdGVtZW50UGF0dGVybnMpIHtcbiAgICAgICAgICAgIGlmIChwYXR0ZXJuLnRlc3Qobm9ybWFsaXplZCkpIHtcbiAgICAgICAgICAgICAgICBkZXRlY3RlZFBhdHRlcm5zLnB1c2goZGVzYyk7XG4gICAgICAgICAgICAgICAgaWYgKHNldmVyaXR5ID09PSAnaGlnaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4U2V2ZXJpdHkgPSAnaGlnaCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgaGlnaCBzZXZlcml0eSBwYXR0ZXJucyBmb3VuZCwgYmxvY2sgaW1tZWRpYXRlbHlcbiAgICBpZiAobWF4U2V2ZXJpdHkgPT09ICdoaWdoJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2FmZTogZmFsc2UsXG4gICAgICAgICAgICByZWFzb246ICdEYW5nZXJvdXMgU1FMIHBhdHRlcm5zIGRldGVjdGVkJyxcbiAgICAgICAgICAgIHBhdHRlcm5zOiBkZXRlY3RlZFBhdHRlcm5zLFxuICAgICAgICAgICAgc2V2ZXJpdHk6ICdoaWdoJyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBzdXNwaWNpb3VzIHBhdHRlcm5zIG9ubHkgZm9yIG11bHRpLXN0YXRlbWVudCBxdWVyaWVzXG4gICAgaWYgKGhhc011bHRpcGxlU3RhdGVtZW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IHsgcGF0dGVybiwgZGVzYyB9IG9mIHN1c3BpY2lvdXNQYXR0ZXJucykge1xuICAgICAgICAgICAgaWYgKHBhdHRlcm4udGVzdChub3JtYWxpemVkKSkge1xuICAgICAgICAgICAgICAgIGRldGVjdGVkUGF0dGVybnMucHVzaChkZXNjKTtcbiAgICAgICAgICAgICAgICBpZiAobWF4U2V2ZXJpdHkgPT09ICdsb3cnKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFNldmVyaXR5ID0gJ21lZGl1bSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRldGVjdGVkUGF0dGVybnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2FmZTogZmFsc2UsXG4gICAgICAgICAgICByZWFzb246ICdTdXNwaWNpb3VzIFNRTCBwYXR0ZXJucyBkZXRlY3RlZCcsXG4gICAgICAgICAgICBwYXR0ZXJuczogZGV0ZWN0ZWRQYXR0ZXJucyxcbiAgICAgICAgICAgIHNldmVyaXR5OiBtYXhTZXZlcml0eSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzYWZlOiB0cnVlIH07XG59XG5cbi8qKlxuICogU2FuaXRpemUgdGFibGUvY29sdW1uIG5hbWVzIChwcmV2ZW50IFNRTCBpbmplY3Rpb24gaW4gaWRlbnRpZmllcnMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZUlkZW50aWZpZXIoaWRlbnRpZmllcjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBPbmx5IGFsbG93IGFscGhhbnVtZXJpYywgdW5kZXJzY29yZSwgYW5kIGh5cGhlblxuICAgIGlmICghL15bYS16QS1aMC05Xy1dKyQvLnRlc3QoaWRlbnRpZmllcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGlkZW50aWZpZXI6ICR7aWRlbnRpZmllcn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkZW50aWZpZXI7XG59XG5cbi8qKlxuICogRXNjYXBlIHN0cmluZyB2YWx1ZXMgZm9yIFNRTCAodXNlIHBhcmFtZXRlcml6ZWQgcXVlcmllcyBpbnN0ZWFkIHdoZW4gcG9zc2libGUpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVTdHJpbmcodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLycvZywgXCInJ1wiKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBxdWVyeSBpcyByZWFkLW9ubHkgKHNhZmUgZm9yIHJlYWQtb25seSBjb25uZWN0aW9ucylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhZE9ubHlRdWVyeShxdWVyeTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gQWxsb3cgU0VMRUNULCBFWFBMQUlOLCBTSE9XLCBERVNDUklCRVxuICAgIGNvbnN0IHJlYWRPbmx5S2V5d29yZHMgPSBbJ3NlbGVjdCcsICdleHBsYWluJywgJ3Nob3cnLCAnZGVzY3JpYmUnLCAnd2l0aCddO1xuXG4gICAgcmV0dXJuIHJlYWRPbmx5S2V5d29yZHMuc29tZSgoa2V5d29yZCkgPT4gbm9ybWFsaXplZC5zdGFydHNXaXRoKGtleXdvcmQpKTtcbn1cbiJdLCJuYW1lcyI6WyJ2YWxpZGF0ZVF1ZXJ5IiwicXVlcnkiLCJub3JtYWxpemVkIiwicmVwbGFjZSIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsInN0YXRlbWVudHMiLCJzcGxpdCIsImZpbHRlciIsInMiLCJsZW5ndGgiLCJoYXNNdWx0aXBsZVN0YXRlbWVudHMiLCJibG9ja2VkUGF0dGVybnMiLCJwYXR0ZXJuIiwic2V2ZXJpdHkiLCJkZXNjIiwibXVsdGlTdGF0ZW1lbnRQYXR0ZXJucyIsInN1c3BpY2lvdXNQYXR0ZXJucyIsImRldGVjdGVkUGF0dGVybnMiLCJtYXhTZXZlcml0eSIsInRlc3QiLCJwdXNoIiwic2FmZSIsInJlYXNvbiIsInBhdHRlcm5zIiwic2FuaXRpemVJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsIkVycm9yIiwiZXNjYXBlU3RyaW5nIiwidmFsdWUiLCJpc1JlYWRPbmx5UXVlcnkiLCJyZWFkT25seUtleXdvcmRzIiwic29tZSIsImtleXdvcmQiLCJzdGFydHNXaXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/security/src/sql-guard/sql-guard.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/utils/src/index.ts":
/*!*****************************************!*\
  !*** ../../packages/utils/src/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogLevel: () => (/* reexport safe */ _logger__WEBPACK_IMPORTED_MODULE_0__.LogLevel),\n/* harmony export */   Logger: () => (/* reexport safe */ _logger__WEBPACK_IMPORTED_MODULE_0__.Logger)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"(rsc)/../../packages/utils/src/logger/index.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bib3NkYi93ZWIvLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2luZGV4LnRzPzI3M2EiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9sb2dnZXInO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/utils/src/index.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/utils/src/logger/index.ts":
/*!************************************************!*\
  !*** ../../packages/utils/src/logger/index.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogLevel: () => (/* binding */ LogLevel),\n/* harmony export */   Logger: () => (/* binding */ Logger)\n/* harmony export */ });\n/**\n * Simple logger utility\n */ var LogLevel;\n(function(LogLevel) {\n    LogLevel[LogLevel[\"DEBUG\"] = 0] = \"DEBUG\";\n    LogLevel[LogLevel[\"INFO\"] = 1] = \"INFO\";\n    LogLevel[LogLevel[\"WARN\"] = 2] = \"WARN\";\n    LogLevel[LogLevel[\"ERROR\"] = 3] = \"ERROR\";\n})(LogLevel || (LogLevel = {}));\nclass Logger {\n    constructor(context, level = 1){\n        this.context = context;\n        this.level = level;\n    }\n    debug(message, ...args) {\n        if (this.level <= 0) {\n            console.debug(`[${new Date().toISOString()}] [DEBUG] [${this.context}]`, message, ...args);\n        }\n    }\n    info(message, ...args) {\n        if (this.level <= 1) {\n            console.log(`[${new Date().toISOString()}] [INFO] [${this.context}]`, message, ...args);\n        }\n    }\n    warn(message, ...args) {\n        if (this.level <= 2) {\n            console.warn(`[${new Date().toISOString()}] [WARN] [${this.context}]`, message, ...args);\n        }\n    }\n    error(message, ...args) {\n        if (this.level <= 3) {\n            console.error(`[${new Date().toISOString()}] [ERROR] [${this.context}]`, message, ...args);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2xvZ2dlci9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOztDQUVDO1VBRVdBOzs7OztHQUFBQSxhQUFBQTtBQU9MLE1BQU1DO0lBSVRDLFlBQVlDLE9BQWUsRUFBRUMsU0FBK0IsQ0FBRTtRQUMxRCxJQUFJLENBQUNELE9BQU8sR0FBR0E7UUFDZixJQUFJLENBQUNDLEtBQUssR0FBR0E7SUFDakI7SUFFQUMsTUFBTUMsT0FBZSxFQUFFLEdBQUdDLElBQVcsRUFBUTtRQUN6QyxJQUFJLElBQUksQ0FBQ0gsS0FBSyxPQUFvQjtZQUM5QkksUUFBUUgsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUlJLE9BQU9DLFdBQVcsR0FBRyxXQUFXLEVBQUUsSUFBSSxDQUFDUCxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUVHLFlBQVlDO1FBQ3pGO0lBQ0o7SUFFQUksS0FBS0wsT0FBZSxFQUFFLEdBQUdDLElBQVcsRUFBUTtRQUN4QyxJQUFJLElBQUksQ0FBQ0gsS0FBSyxPQUFtQjtZQUM3QkksUUFBUUksR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUlILE9BQU9DLFdBQVcsR0FBRyxVQUFVLEVBQUUsSUFBSSxDQUFDUCxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUVHLFlBQVlDO1FBQ3RGO0lBQ0o7SUFFQU0sS0FBS1AsT0FBZSxFQUFFLEdBQUdDLElBQVcsRUFBUTtRQUN4QyxJQUFJLElBQUksQ0FBQ0gsS0FBSyxPQUFtQjtZQUM3QkksUUFBUUssSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUlKLE9BQU9DLFdBQVcsR0FBRyxVQUFVLEVBQUUsSUFBSSxDQUFDUCxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUVHLFlBQVlDO1FBQ3ZGO0lBQ0o7SUFFQU8sTUFBTVIsT0FBZSxFQUFFLEdBQUdDLElBQVcsRUFBUTtRQUN6QyxJQUFJLElBQUksQ0FBQ0gsS0FBSyxPQUFvQjtZQUM5QkksUUFBUU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUlMLE9BQU9DLFdBQVcsR0FBRyxXQUFXLEVBQUUsSUFBSSxDQUFDUCxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUVHLFlBQVlDO1FBQ3pGO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bib3NkYi93ZWIvLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2xvZ2dlci9pbmRleC50cz8wMTFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2ltcGxlIGxvZ2dlciB1dGlsaXR5XG4gKi9cblxuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xuICAgIERFQlVHID0gMCxcbiAgICBJTkZPID0gMSxcbiAgICBXQVJOID0gMixcbiAgICBFUlJPUiA9IDMsXG59XG5cbmV4cG9ydCBjbGFzcyBMb2dnZXIge1xuICAgIHByaXZhdGUgY29udGV4dDogc3RyaW5nO1xuICAgIHByaXZhdGUgbGV2ZWw6IExvZ0xldmVsO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogc3RyaW5nLCBsZXZlbDogTG9nTGV2ZWwgPSBMb2dMZXZlbC5JTkZPKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICB9XG5cbiAgICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsIDw9IExvZ0xldmVsLkRFQlVHKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XSBbREVCVUddIFske3RoaXMuY29udGV4dH1dYCwgbWVzc2FnZSwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubGV2ZWwgPD0gTG9nTGV2ZWwuSU5GTykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFske25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1dIFtJTkZPXSBbJHt0aGlzLmNvbnRleHR9XWAsIG1lc3NhZ2UsIC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2FybihtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsIDw9IExvZ0xldmVsLldBUk4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgWyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfV0gW1dBUk5dIFske3RoaXMuY29udGV4dH1dYCwgbWVzc2FnZSwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsIDw9IExvZ0xldmVsLkVSUk9SKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XSBbRVJST1JdIFske3RoaXMuY29udGV4dH1dYCwgbWVzc2FnZSwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiTG9nTGV2ZWwiLCJMb2dnZXIiLCJjb25zdHJ1Y3RvciIsImNvbnRleHQiLCJsZXZlbCIsImRlYnVnIiwibWVzc2FnZSIsImFyZ3MiLCJjb25zb2xlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaW5mbyIsImxvZyIsIndhcm4iLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/utils/src/logger/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CArush%20Gupta%5CDownloads%5CBosDB-Browser%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();